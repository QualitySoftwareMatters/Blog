{"meta":{"exported_on":1432858788246,"version":"000"},"data":{"posts":[{"id":0,"title":"Data Integration Tests and Transactions - Part 2","slug":"data_integration_tests_and_transactions_part_2","markdown":"<!DOCTYPE html><html><head><title>2014-05-25_data_integration_tests_and_multiple_data_framework_transactions</title><style>/*  Name: GeekPark article style for Mou app Author: hzlzh(hzlzh.dev@gmail.com) URL: https://github.com/GeekPark/Doc/blob/master/GeekPark/GeekPark-Style-for-Mou.css */ body{ font-family:\"Microsoft Yahei\",\"Helvetica Neue\",\"Luxi Sans\",\"DejaVu Sans\",Tahoma,\"Hiragino Sans GB\",STHeiti; font-size:14px; line-height:1.6; color:#666666; padding-top:10px; padding-bottom:10px; background-color:white; padding:30px; } body > *:first-child{ margin-top:0 !important; } body > *:last-child{ margin-bottom:0 !important; } a{ color:#109EFF; text-decoration:none; } a:hover{ border-bottom:1px dotted #109EFF; } a:visited, a:active{ color:#109EFF; } a.absent{ color:#cc0000; } a.anchor{ display:block; padding-left:30px; margin-left:-30px; cursor:pointer; position:absolute; top:0; left:0; bottom:0; } p a{ margin:0 2px; } h1, h2, h3, h4, h5, h6{ color:#333333; margin:20px 0 10px; padding:0; font-weight:bold; -webkit-font-smoothing:antialiased; cursor:text; position:relative; } h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor{ background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA09pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoMTMuMCAyMDEyMDMwNS5tLjQxNSAyMDEyLzAzLzA1OjIxOjAwOjAwKSAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUM2NjlDQjI4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUM2NjlDQjM4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QzY2OUNCMDg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QzY2OUNCMTg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsQhXeAAAABfSURBVHjaYvz//z8DJYCRUgMYQAbAMBQIAvEqkBQWXI6sHqwHiwG70TTBxGaiWwjCTGgOUgJiF1J8wMRAIUA34B4Q76HUBelAfJYSA0CuMIEaRP8wGIkGMA54bgQIMACAmkXJi0hKJQAAAABJRU5ErkJggg==) no-repeat 10px center; text-decoration:none; } h1 tt, h1 code{ font-size:inherit; } h2 tt, h2 code{ font-size:inherit; } h3 tt, h3 code{ font-size:inherit; } h4 tt, h4 code{ font-size:inherit; } h5 tt, h5 code{ font-size:inherit; } h6 tt, h6 code{ font-size:inherit; } h1{ font-size:18px; font-weight:bold; line-height:22px; margin-bottom:5px; color:#333; } h2{ font-size:16px; font-weight:bolder; line-height:18px; margin:20px 0; } h3{ font-size:14px; } h4{ color:#666; font-size:14px; font-weight:bolder; line-height:18px; margin:20px 0; } h5{ font-size:14px; } h6{ color:#777777; font-size:14px; } p, blockquote, ul, ol, dl, li, table, pre{ margin:15px 0; line-height:150%; } hr{ background:transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0; border:0 none; color:#cccccc; height:4px; padding:0; } body > h2:first-child{ margin-top:0; padding-top:0; } body > h1:first-child{ margin-top:0; padding-top:0; } body > h1:first-child + h2{ margin-top:0; padding-top:0; } body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child{ margin-top:0; padding-top:0; } a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6{ margin-top:0; padding-top:0; } h1 p, h2 p, h3 p, h4 p, h5 p, h6 p{ margin-top:0; } li p.first{ display:inline-block; } li{ font-size:14px; line-height:150%; margin-bottom:5px; margin-top:0; } ul, ol{ padding-left:30px; } ul :first-child, ol :first-child{ margin-top:0; } dl{ padding:0; } dl dt{ font-size:14px; font-weight:bold; font-style:italic; padding:0; margin:15px 0 5px; } dl dt:first-child{ padding:0; } dl dt > :first-child{ margin-top:0; } dl dt > :last-child{ margin-bottom:0; } dl dd{ margin:0 0 15px; padding:0 15px; } dl dd > :first-child{ margin-top:0; } dl dd > :last-child{ margin-bottom:0; } blockquote{ background:url(\"data:image/png;base64,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\") no-repeat scroll left 11px transparent; color:#999999; margin-left:28px; min-height:30px; padding:17px 40px 0; } blockquote p{ color:#999999 !important; margin-bottom:25px !important; } blockquote > :first-child{ margin-top:0; } blockquote > :last-child{ margin-bottom:0; } table{ padding:0; border-collapse:collapse; } table tr{ border-top:1px solid #cccccc; background-color:white; margin:0; padding:0; } table tr:nth-child(2n){ background-color:#f8f8f8; } table tr th{ font-weight:bold; border:1px solid #cccccc; text-align:left; margin:0; padding:6px 13px; } table tr td{ border:1px solid #cccccc; text-align:left; margin:0; padding:6px 13px; } table tr th :first-child, table tr td :first-child{ margin-top:0; } table tr th :last-child, table tr td :last-child{ margin-bottom:0; } img{ border:1px solid #E1E1E1; margin:0 auto 10px; display:block; max-width:512px; padding:5px; } span.frame{ display:block; overflow:hidden; } span.frame > span{ border:1px solid #dddddd; display:block; float:left; overflow:hidden; margin:13px 0 0; padding:7px; width:auto; } span.frame span img{ display:block; float:left; } span.frame span span{ clear:both; color:#333333; display:block; padding:5px 0 0; } span.align-center{ display:block; overflow:hidden; clear:both; } span.align-center > span{ display:block; overflow:hidden; margin:13px auto 0; text-align:center; } span.align-center span img{ margin:0 auto; text-align:center; } span.align-right{ display:block; overflow:hidden; clear:both; } span.align-right > span{ display:block; overflow:hidden; margin:13px 0 0; text-align:right; } span.align-right span img{ margin:0; text-align:right; } span.float-left{ display:block; margin-right:13px; overflow:hidden; float:left; } span.float-left span{ margin:13px 0 0; } span.float-right{ display:block; margin-left:13px; overflow:hidden; float:right; } span.float-right > span{ display:block; overflow:hidden; margin:13px auto 0; text-align:right; } code, tt{ margin:0 2px; padding:0 5px; white-space:nowrap; border:1px solid #eaeaea; background-color:#f8f8f8; border-radius:3px; } pre code{ margin:0; padding:0; white-space:pre; border:none; background:transparent; } .highlight pre{ background-color:#f8f8f8; border:1px solid #cccccc; font-size:13px; line-height:19px; overflow:auto; padding:6px 10px; border-radius:3px; } pre{ background-color:#f8f8f8; border:1px solid #cccccc; font-size:13px; line-height:19px; overflow:auto; padding:6px 10px; border-radius:3px; } pre code, pre tt{ background-color:transparent; border:none; } @media screen and (min-width: 914px){     body{ width:854px; margin:0 auto; } } </style></head><body>\n\n[Last time](http://toddmeinershagen.blogspot.com/2014/05/data-integration-tests-and-transactions.html) I talked about how to use the [TransactionScope](http://msdn.microsoft.com/en-us/library/system.transactions.transactionscope.aspx) class to handle the rollback of any changes made during a data integration test. This time, I would like to talk about another issue that will eventually come up using transactions: using [Entity Framework](http://msdn.microsoft.com/en-us/data/ef.aspx) code-first in combination with any other data access framework while leveraging TransactionScope.\n\nIn our case, we use [Dapper](https://code.google.com/p/dapper-dot-net/) to insert data before our tests and to assert things about the state of the database after exercising the [code-first Entity Framework](http://weblogs.asp.net/scottgu/archive/2010/07/16/code-first-development-with-entity-framework-4.aspx) data layer functionality we are testing. Below is our example.\n\n    private TransactionScope _scope;\n\n    [SetUp]\n    public void SetUp()\n    {\n        _scope = new TransactionScope();\n    }\n\n    [TearDown]\n    public void TearDown()\n    {\n        _scope.Dispose();\n    }\n\n    [Test]\n    public void test_to_demo_ef_and_dapper_connections()\n    {\n        var person = new Person {FirstName = &quot;Todd&quot;, LastName = &quot;Meinershagen&quot;};\n        var sql = &quot;INSERT INTO dbo.Persons (FirstName, LastName) &quot;;\n        sql = sql + &quot;VALUES (@FirstName, @LastName)&quot;;\n\n        using (var connection = new SqlConnection(&quot;a connection string&quot;))\n        {\n            connection.Execute(sql, person);\n        }\n\n        var db = new PersonContext();\n        var matchingPersons = \n            from p in db.Persons\n            where\n                (p.FirstName == person.FirstName) &amp;&amp;\n                (p.LastName == person.LastName)\n            select p;\n\n        matchingPersons.FirstOrDefault().Should().NotBeNull();\n    }\n    `</pre> \n\n    Both Dapper and EF establish their own connections, and we would expect that each connection would take part in the ambient transaction being created during the [SetUp] of our test fixture. \n\n    Normally, this is not an issue, but when the tests are run, we get a message similar to below:\n     <pre>`MSDTC on server 'servername' is unavailable.\n    `</pre> \n\n    This can occur for any number of reasons such as the following:\n\n*   Opening multiple connections with same connection string to SQL Server 2005.\n*   Opening multiple nested connections with same connection string to SQL Server 2008.\n*   Opening multiple connection to two different SQL Server 2008 instances. \n\n    In the case of our tests, we are making two connections (one for EF and one for Dapper) to SQL Server 2008 using the same connection string. Based on the guidance above, this should not force our system to escalate to MSDTC. \n\n    So, what is happening here?\n\n    After searching diligently on the internet (thank God for the internet!), I found an [article](http://stackoverflow.com/questions/18088949/entityframeworkmue-in-entity-framework) explaining that Microsoft cleverly adds information to a code-first connection string to allow Microsoft to collect statistics from those using Azure and Entity Framework to determine what percentage use code-first as opposed to database-first. (Why Microsoft, why?) This is supposed to have been fixed in EF 6.0.\n\n    So, instead of using a connection string as you specified:\n     <pre>`Data Source=(local);\n    Initial catalog=LocalDb;\n    Integrated Security=True;\n    `</pre> \n\n    The system uses the following for EF:\n     <pre>`Data Source=(local);\n    Initial catalog=LocalDb;\n    Integrated Security=True;\n    Application Name=EntityFrameworkMUE\n\nSo, what does this mean?\n\nUnfortunately, this causes our system to see the two connections (Dapper and EF) as two different connection strings and therefore, it looks like you are connecting to two different data sources which escalate to MSDTC. What a pain!\n\nSo, how do we get around this issue.\n\nOne way would be to use EF for both production and test code, although this robs us of the benefit of quickly setting up data using a light-weight framework like Dapper. Another option is to modify our test project&#8217;s configuration file by explicitly specifying the Application Name for our connection string. The system will then see the two connections as the same. No more escalation to MSDTC!\n\nHope this helps.\n</body></html>\n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"<!DOCTYPE html><html><head><title>2014-05-25_data_integration_tests_and_multiple_data_framework_transactions</title><style>/*  Name: GeekPark article style for Mou app Author: hzlzh(hzlzh.dev@gmail.com) URL: https://github.com/GeekPark/Doc/blob/master/GeekPark/GeekPark-Style-for-Mou.css */ body{ font-family:\"Microsoft Yahei\",\"Helvetica Neue\",\"Luxi Sans\",\"DejaVu Sans\",Tahoma,\"Hiragino Sans GB\",STHeiti; font-size:14px; line-height:1.6; color:#666666; padding-top:10px; padding-bottom:10px; background-color:white; padding:30px; } body > *:first-child{ margin-top:0 !important; } body > *:last-child{ margin-bottom:0 !important; } a{ color:#109EFF; text-decoration:none; } a:hover{ border-bottom:1px dotted #109EFF; } a:visited, a:active{ color:#109EFF; } a.absent{ color:#cc0000; } a.anchor{ display:block; padding-left:30px; margin-left:-30px; cursor:pointer; position:absolute; top:0; left:0; bottom:0; } p a{ margin:0 2px; } h1, h2, h3, h4, h5, h6{ color:#333333; margin:20px 0 10px; padding:0; font-weight:bold; -webkit-font-smoothing:antialiased; cursor:text; position:relative; } h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor{ background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA09pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoMTMuMCAyMDEyMDMwNS5tLjQxNSAyMDEyLzAzLzA1OjIxOjAwOjAwKSAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUM2NjlDQjI4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUM2NjlDQjM4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QzY2OUNCMDg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QzY2OUNCMTg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsQhXeAAAABfSURBVHjaYvz//z8DJYCRUgMYQAbAMBQIAvEqkBQWXI6sHqwHiwG70TTBxGaiWwjCTGgOUgJiF1J8wMRAIUA34B4Q76HUBelAfJYSA0CuMIEaRP8wGIkGMA54bgQIMACAmkXJi0hKJQAAAABJRU5ErkJggg==) no-repeat 10px center; text-decoration:none; } h1 tt, h1 code{ font-size:inherit; } h2 tt, h2 code{ font-size:inherit; } h3 tt, h3 code{ font-size:inherit; } h4 tt, h4 code{ font-size:inherit; } h5 tt, h5 code{ font-size:inherit; } h6 tt, h6 code{ font-size:inherit; } h1{ font-size:18px; font-weight:bold; line-height:22px; margin-bottom:5px; color:#333; } h2{ font-size:16px; font-weight:bolder; line-height:18px; margin:20px 0; } h3{ font-size:14px; } h4{ color:#666; font-size:14px; font-weight:bolder; line-height:18px; margin:20px 0; } h5{ font-size:14px; } h6{ color:#777777; font-size:14px; } p, blockquote, ul, ol, dl, li, table, pre{ margin:15px 0; line-height:150%; } hr{ background:transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0; border:0 none; color:#cccccc; height:4px; padding:0; } body > h2:first-child{ margin-top:0; padding-top:0; } body > h1:first-child{ margin-top:0; padding-top:0; } body > h1:first-child + h2{ margin-top:0; padding-top:0; } body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child{ margin-top:0; padding-top:0; } a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6{ margin-top:0; padding-top:0; } h1 p, h2 p, h3 p, h4 p, h5 p, h6 p{ margin-top:0; } li p.first{ display:inline-block; } li{ font-size:14px; line-height:150%; margin-bottom:5px; margin-top:0; } ul, ol{ padding-left:30px; } ul :first-child, ol :first-child{ margin-top:0; } dl{ padding:0; } dl dt{ font-size:14px; font-weight:bold; font-style:italic; padding:0; margin:15px 0 5px; } dl dt:first-child{ padding:0; } dl dt > :first-child{ margin-top:0; } dl dt > :last-child{ margin-bottom:0; } dl dd{ margin:0 0 15px; padding:0 15px; } dl dd > :first-child{ margin-top:0; } dl dd > :last-child{ margin-bottom:0; } blockquote{ background:url(\"data:image/png;base64,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\") no-repeat scroll left 11px transparent; color:#999999; margin-left:28px; min-height:30px; padding:17px 40px 0; } blockquote p{ color:#999999 !important; margin-bottom:25px !important; } blockquote > :first-child{ margin-top:0; } blockquote > :last-child{ margin-bottom:0; } table{ padding:0; border-collapse:collapse; } table tr{ border-top:1px solid #cccccc; background-color:white; margin:0; padding:0; } table tr:nth-child(2n){ background-color:#f8f8f8; } table tr th{ font-weight:bold; border:1px solid #cccccc; text-align:left; margin:0; padding:6px 13px; } table tr td{ border:1px solid #cccccc; text-align:left; margin:0; padding:6px 13px; } table tr th :first-child, table tr td :first-child{ margin-top:0; } table tr th :last-child, table tr td :last-child{ margin-bottom:0; } img{ border:1px solid #E1E1E1; margin:0 auto 10px; display:block; max-width:512px; padding:5px; } span.frame{ display:block; overflow:hidden; } span.frame > span{ border:1px solid #dddddd; display:block; float:left; overflow:hidden; margin:13px 0 0; padding:7px; width:auto; } span.frame span img{ display:block; float:left; } span.frame span span{ clear:both; color:#333333; display:block; padding:5px 0 0; } span.align-center{ display:block; overflow:hidden; clear:both; } span.align-center > span{ display:block; overflow:hidden; margin:13px auto 0; text-align:center; } span.align-center span img{ margin:0 auto; text-align:center; } span.align-right{ display:block; overflow:hidden; clear:both; } span.align-right > span{ display:block; overflow:hidden; margin:13px 0 0; text-align:right; } span.align-right span img{ margin:0; text-align:right; } span.float-left{ display:block; margin-right:13px; overflow:hidden; float:left; } span.float-left span{ margin:13px 0 0; } span.float-right{ display:block; margin-left:13px; overflow:hidden; float:right; } span.float-right > span{ display:block; overflow:hidden; margin:13px auto 0; text-align:right; } code, tt{ margin:0 2px; padding:0 5px; white-space:nowrap; border:1px solid #eaeaea; background-color:#f8f8f8; border-radius:3px; } pre code{ margin:0; padding:0; white-space:pre; border:none; background:transparent; } .highlight pre{ background-color:#f8f8f8; border:1px solid #cccccc; font-size:13px; line-height:19px; overflow:auto; padding:6px 10px; border-radius:3px; } pre{ background-color:#f8f8f8; border:1px solid #cccccc; font-size:13px; line-height:19px; overflow:auto; padding:6px 10px; border-radius:3px; } pre code, pre tt{ background-color:transparent; border:none; } @media screen and (min-width: 914px){     body{ width:854px; margin:0 auto; } } </style></head><body><p><a href=\"http://toddmeinershagen.blogspot.com/2014/05/data-integration-tests-and-transactions.html\">Last time</a> I talked about how to use the <a href=\"http://msdn.microsoft.com/en-us/library/system.transactions.transactionscope.aspx\">TransactionScope</a> class to handle the rollback of any changes made during a data integration test. This time, I would like to talk about another issue that will eventually come up using transactions: using <a href=\"http://msdn.microsoft.com/en-us/data/ef.aspx\">Entity Framework</a> code-first in combination with any other data access framework while leveraging TransactionScope.</p> <p>In our case, we use <a href=\"https://code.google.com/p/dapper-dot-net/\">Dapper</a> to insert data before our tests and to assert things about the state of the database after exercising the <a href=\"http://weblogs.asp.net/scottgu/archive/2010/07/16/code-first-development-with-entity-framework-4.aspx\">code-first Entity Framework</a> data layer functionality we are testing. Below is our example.</p> <pre><code>private TransactionScope _scope;<br /><br />[SetUp]<br />public void SetUp()<br />{<br />    _scope = new TransactionScope();<br />}<br /><br />[TearDown]<br />public void TearDown()<br />{<br />    _scope.Dispose();<br />}<br /><br />[Test]<br />public void test_to_demo_ef_and_dapper_connections()<br />{<br />    var person = new Person {FirstName = &quot;Todd&quot;, LastName = &quot;Meinershagen&quot;};<br />    var sql = &quot;INSERT INTO dbo.Persons (FirstName, LastName) &quot;;<br />    sql = sql + &quot;VALUES (@FirstName, @LastName)&quot;;<br /><br />    using (var connection = new SqlConnection(&quot;a connection string&quot;))<br />    {<br />        connection.Execute(sql, person);<br />    }<br /><br />    var db = new PersonContext();<br />    var matchingPersons = <br />        from p in db.Persons<br />        where<br />            (p.FirstName == person.FirstName) &amp;&amp;<br />            (p.LastName == person.LastName)<br />        select p;<br /><br />    matchingPersons.FirstOrDefault().Should().NotBeNull();<br />}<br /></code></pre> <p>Both Dapper and EF establish their own connections, and we would expect that each connection would take part in the ambient transaction being created during the [SetUp] of our test fixture. </p> <p>Normally, this is not an issue, but when the tests are run, we get a message similar to below:</p> <pre><code>MSDTC on server 'servername' is unavailable.<br /></code></pre> <p>This can occur for any number of reasons such as the following:</p> <ul><li>Opening multiple connections with same connection string to SQL Server 2005.</li><li>Opening multiple nested connections with same connection string to SQL Server 2008.</li><li>Opening multiple connection to two different SQL Server 2008 instances.</li></ul> <p>In the case of our tests, we are making two connections (one for EF and one for Dapper) to SQL Server 2008 using the same connection string. Based on the guidance above, this should not force our system to escalate to MSDTC. </p> <p>So, what is happening here?</p> <p>After searching diligently on the internet (thank God for the internet!), I found an <a href=\"http://stackoverflow.com/questions/18088949/entityframeworkmue-in-entity-framework\">article</a> explaining that Microsoft cleverly adds information to a code-first connection string to allow Microsoft to collect statistics from those using Azure and Entity Framework to determine what percentage use code-first as opposed to database-first. (Why Microsoft, why?) This is supposed to have been fixed in EF 6.0.</p> <p>So, instead of using a connection string as you specified:</p> <pre><code>Data Source=(local);<br />Initial catalog=LocalDb;<br />Integrated Security=True;<br /></code></pre> <p>The system uses the following for EF:</p> <pre><code>Data Source=(local);<br />Initial catalog=LocalDb;<br />Integrated Security=True;<br />Application Name=EntityFrameworkMUE<br /></code></pre> <p>So, what does this mean?</p> <p>Unfortunately, this causes our system to see the two connections (Dapper and EF) as two different connection strings and therefore, it looks like you are connecting to two different data sources which escalate to MSDTC. What a pain!</p> <p>So, how do we get around this issue.</p> <p>One way would be to use EF for both production and test code, although this robs us of the benefit of quickly setting up data using a light-weight framework like Dapper. Another option is to modify our test project&#8217;s configuration file by explicitly specifying the Application Name for our connection string. The system will then see the two connections as the same. No more escalation to MSDTC!</p> <p>Hope this helps.</p></body></html><div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1401068820001,"created_by":1,"updated_at":1401068953575,"updated_by":1,"published_at":1401068820001,"published_by":1},{"id":1,"title":"Data Integration Tests and Transactions - Part 1","slug":"data_integration_tests_and_transactions_part_1","markdown":"<html><head><title>2014-05-25_integration_tests_and_transactions</title><style>/*  Name: GeekPark article style for Mou app Author: hzlzh(hzlzh.dev@gmail.com) URL: https://github.com/GeekPark/Doc/blob/master/GeekPark/GeekPark-Style-for-Mou.css */ body{ font-family:\"Microsoft Yahei\",\"Helvetica Neue\",\"Luxi Sans\",\"DejaVu Sans\",Tahoma,\"Hiragino Sans GB\",STHeiti; font-size:14px; line-height:1.6; color:#666666; padding-top:10px; padding-bottom:10px; background-color:white; padding:30px; } body > *:first-child{ margin-top:0 !important; } body > *:last-child{ margin-bottom:0 !important; } a{ color:#109EFF; text-decoration:none; } a:hover{ border-bottom:1px dotted #109EFF; } a:visited, a:active{ color:#109EFF; } a.absent{ color:#cc0000; } a.anchor{ display:block; padding-left:30px; margin-left:-30px; cursor:pointer; position:absolute; top:0; left:0; bottom:0; } p a{ margin:0 2px; } h1, h2, h3, h4, h5, h6{ color:#333333; margin:20px 0 10px; padding:0; font-weight:bold; -webkit-font-smoothing:antialiased; cursor:text; position:relative; } h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor{ background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA09pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoMTMuMCAyMDEyMDMwNS5tLjQxNSAyMDEyLzAzLzA1OjIxOjAwOjAwKSAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUM2NjlDQjI4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUM2NjlDQjM4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QzY2OUNCMDg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QzY2OUNCMTg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsQhXeAAAABfSURBVHjaYvz//z8DJYCRUgMYQAbAMBQIAvEqkBQWXI6sHqwHiwG70TTBxGaiWwjCTGgOUgJiF1J8wMRAIUA34B4Q76HUBelAfJYSA0CuMIEaRP8wGIkGMA54bgQIMACAmkXJi0hKJQAAAABJRU5ErkJggg==) no-repeat 10px center; text-decoration:none; } h1 tt, h1 code{ font-size:inherit; } h2 tt, h2 code{ font-size:inherit; } h3 tt, h3 code{ font-size:inherit; } h4 tt, h4 code{ font-size:inherit; } h5 tt, h5 code{ font-size:inherit; } h6 tt, h6 code{ font-size:inherit; } h1{ font-size:18px; font-weight:bold; line-height:22px; margin-bottom:5px; color:#333; } h2{ font-size:16px; font-weight:bolder; line-height:18px; margin:20px 0; } h3{ font-size:14px; } h4{ color:#666; font-size:14px; font-weight:bolder; line-height:18px; margin:20px 0; } h5{ font-size:14px; } h6{ color:#777777; font-size:14px; } p, blockquote, ul, ol, dl, li, table, pre{ margin:15px 0; line-height:150%; } hr{ background:transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0; border:0 none; color:#cccccc; height:4px; padding:0; } body > h2:first-child{ margin-top:0; padding-top:0; } body > h1:first-child{ margin-top:0; padding-top:0; } body > h1:first-child + h2{ margin-top:0; padding-top:0; } body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child{ margin-top:0; padding-top:0; } a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6{ margin-top:0; padding-top:0; } h1 p, h2 p, h3 p, h4 p, h5 p, h6 p{ margin-top:0; } li p.first{ display:inline-block; } li{ font-size:14px; line-height:150%; margin-bottom:5px; margin-top:0; } ul, ol{ padding-left:30px; } ul :first-child, ol :first-child{ margin-top:0; } dl{ padding:0; } dl dt{ font-size:14px; font-weight:bold; font-style:italic; padding:0; margin:15px 0 5px; } dl dt:first-child{ padding:0; } dl dt > :first-child{ margin-top:0; } dl dt > :last-child{ margin-bottom:0; } dl dd{ margin:0 0 15px; padding:0 15px; } dl dd > :first-child{ margin-top:0; } dl dd > :last-child{ margin-bottom:0; } blockquote{ background:url(\"data:image/png;base64,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\") no-repeat scroll left 11px transparent; color:#999999; margin-left:28px; min-height:30px; padding:17px 40px 0; } blockquote p{ color:#999999 !important; margin-bottom:25px !important; } blockquote > :first-child{ margin-top:0; } blockquote > :last-child{ margin-bottom:0; } table{ padding:0; border-collapse:collapse; } table tr{ border-top:1px solid #cccccc; background-color:white; margin:0; padding:0; } table tr:nth-child(2n){ background-color:#f8f8f8; } table tr th{ font-weight:bold; border:1px solid #cccccc; text-align:left; margin:0; padding:6px 13px; } table tr td{ border:1px solid #cccccc; text-align:left; margin:0; padding:6px 13px; } table tr th :first-child, table tr td :first-child{ margin-top:0; } table tr th :last-child, table tr td :last-child{ margin-bottom:0; } img{ border:1px solid #E1E1E1; margin:0 auto 10px; display:block; max-width:512px; padding:5px; } span.frame{ display:block; overflow:hidden; } span.frame > span{ border:1px solid #dddddd; display:block; float:left; overflow:hidden; margin:13px 0 0; padding:7px; width:auto; } span.frame span img{ display:block; float:left; } span.frame span span{ clear:both; color:#333333; display:block; padding:5px 0 0; } span.align-center{ display:block; overflow:hidden; clear:both; } span.align-center > span{ display:block; overflow:hidden; margin:13px auto 0; text-align:center; } span.align-center span img{ margin:0 auto; text-align:center; } span.align-right{ display:block; overflow:hidden; clear:both; } span.align-right > span{ display:block; overflow:hidden; margin:13px 0 0; text-align:right; } span.align-right span img{ margin:0; text-align:right; } span.float-left{ display:block; margin-right:13px; overflow:hidden; float:left; } span.float-left span{ margin:13px 0 0; } span.float-right{ display:block; margin-left:13px; overflow:hidden; float:right; } span.float-right > span{ display:block; overflow:hidden; margin:13px auto 0; text-align:right; } code, tt{ margin:0 2px; padding:0 5px; white-space:nowrap; border:1px solid #eaeaea; background-color:#f8f8f8; border-radius:3px; } pre code{ margin:0; padding:0; white-space:pre; border:none; background:transparent; } .highlight pre{ background-color:#f8f8f8; border:1px solid #cccccc; font-size:13px; line-height:19px; overflow:auto; padding:6px 10px; border-radius:3px; } pre{ background-color:#f8f8f8; border:1px solid #cccccc; font-size:13px; line-height:19px; overflow:auto; padding:6px 10px; border-radius:3px; } pre code, pre tt{ background-color:transparent; border:none; } @media screen and (min-width: 914px){     body{ width:854px; margin:0 auto; } } </style></head><body>\n\nI have been writing some integration tests in .NET lately to specify behavior for my data layer. The issue that always comes up is how to make sure that each test is completely isolated from other tests. This requires each test to initialize needed data and at the end to clean up any data that was created so that other tests are not impacted by it. In the past I have set up compensating queries to delete that same data on tear down.\n\nThis can create one of two problems:\n\n*   **maintainability** - it is hard to maintain this logic going forward\n*   **reliability** - it doesnâ€™t guarantee successful rollback of the initial inserts because the query could possibly fail leaving the tests in a position for unsuccessful future tests against the database\n\nSo, what do you do?\n\nI have been using the handy [TransactionScope](http://msdn.microsoft.com/en-us/library/system.transactions.transactionscope.aspx) class to allow any connections to participate in the ambient transaction and then dispose of the transaction without committing on tear down of the fixture.\n\nIn the example below, I have used NUnit, but this could work with other testing frameworks quite well.\n\n    [TestFixture]\n    public class MyFixture\n    {\n        private TransactionScope _scope;\n\n        [SetUp]\n        public void SetUp()\n        {\n            _scope = new TransactionScope();\n        }\n\n        [TearDown]\n        public void TearDown()\n        {\n            _scope.Dispose();\n        }\n\n        ///&lt;summary&gt;This is a silly sample test for display purposes only.&lt;/summary&gt;\n        [Test]\n        public void given_context_when_something_happens_should_have_expected_outcome()\n        {\n            ExecuteSomeLogicForInsertingDataForContext();\n\n            RunSomeActionToMakeSomethingHappen();\n\n            AssertThatSomeExpectedOutcomeOccured();\n        }\n    }\n\nYou could make this an abstract base class and make the SetUp and TearDown methods virtual if you would like to reuse this across any of your data test fixtures. As long as you donâ€™t call _scope.Complete() the changes you have made should be rolled back/aborted on the disposal of the transaction.\n\nHope this helps!\n </body></html>\n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"<html><head><title>2014-05-25_integration_tests_and_transactions</title><style>/*  Name: GeekPark article style for Mou app Author: hzlzh(hzlzh.dev@gmail.com) URL: https://github.com/GeekPark/Doc/blob/master/GeekPark/GeekPark-Style-for-Mou.css */ body{ font-family:\"Microsoft Yahei\",\"Helvetica Neue\",\"Luxi Sans\",\"DejaVu Sans\",Tahoma,\"Hiragino Sans GB\",STHeiti; font-size:14px; line-height:1.6; color:#666666; padding-top:10px; padding-bottom:10px; background-color:white; padding:30px; } body > *:first-child{ margin-top:0 !important; } body > *:last-child{ margin-bottom:0 !important; } a{ color:#109EFF; text-decoration:none; } a:hover{ border-bottom:1px dotted #109EFF; } a:visited, a:active{ color:#109EFF; } a.absent{ color:#cc0000; } a.anchor{ display:block; padding-left:30px; margin-left:-30px; cursor:pointer; position:absolute; top:0; left:0; bottom:0; } p a{ margin:0 2px; } h1, h2, h3, h4, h5, h6{ color:#333333; margin:20px 0 10px; padding:0; font-weight:bold; -webkit-font-smoothing:antialiased; cursor:text; position:relative; } h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor{ background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA09pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoMTMuMCAyMDEyMDMwNS5tLjQxNSAyMDEyLzAzLzA1OjIxOjAwOjAwKSAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUM2NjlDQjI4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUM2NjlDQjM4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QzY2OUNCMDg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QzY2OUNCMTg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsQhXeAAAABfSURBVHjaYvz//z8DJYCRUgMYQAbAMBQIAvEqkBQWXI6sHqwHiwG70TTBxGaiWwjCTGgOUgJiF1J8wMRAIUA34B4Q76HUBelAfJYSA0CuMIEaRP8wGIkGMA54bgQIMACAmkXJi0hKJQAAAABJRU5ErkJggg==) no-repeat 10px center; text-decoration:none; } h1 tt, h1 code{ font-size:inherit; } h2 tt, h2 code{ font-size:inherit; } h3 tt, h3 code{ font-size:inherit; } h4 tt, h4 code{ font-size:inherit; } h5 tt, h5 code{ font-size:inherit; } h6 tt, h6 code{ font-size:inherit; } h1{ font-size:18px; font-weight:bold; line-height:22px; margin-bottom:5px; color:#333; } h2{ font-size:16px; font-weight:bolder; line-height:18px; margin:20px 0; } h3{ font-size:14px; } h4{ color:#666; font-size:14px; font-weight:bolder; line-height:18px; margin:20px 0; } h5{ font-size:14px; } h6{ color:#777777; font-size:14px; } p, blockquote, ul, ol, dl, li, table, pre{ margin:15px 0; line-height:150%; } hr{ background:transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0; border:0 none; color:#cccccc; height:4px; padding:0; } body > h2:first-child{ margin-top:0; padding-top:0; } body > h1:first-child{ margin-top:0; padding-top:0; } body > h1:first-child + h2{ margin-top:0; padding-top:0; } body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child{ margin-top:0; padding-top:0; } a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6{ margin-top:0; padding-top:0; } h1 p, h2 p, h3 p, h4 p, h5 p, h6 p{ margin-top:0; } li p.first{ display:inline-block; } li{ font-size:14px; line-height:150%; margin-bottom:5px; margin-top:0; } ul, ol{ padding-left:30px; } ul :first-child, ol :first-child{ margin-top:0; } dl{ padding:0; } dl dt{ font-size:14px; font-weight:bold; font-style:italic; padding:0; margin:15px 0 5px; } dl dt:first-child{ padding:0; } dl dt > :first-child{ margin-top:0; } dl dt > :last-child{ margin-bottom:0; } dl dd{ margin:0 0 15px; padding:0 15px; } dl dd > :first-child{ margin-top:0; } dl dd > :last-child{ margin-bottom:0; } blockquote{ background:url(\"data:image/png;base64,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\") no-repeat scroll left 11px transparent; color:#999999; margin-left:28px; min-height:30px; padding:17px 40px 0; } blockquote p{ color:#999999 !important; margin-bottom:25px !important; } blockquote > :first-child{ margin-top:0; } blockquote > :last-child{ margin-bottom:0; } table{ padding:0; border-collapse:collapse; } table tr{ border-top:1px solid #cccccc; background-color:white; margin:0; padding:0; } table tr:nth-child(2n){ background-color:#f8f8f8; } table tr th{ font-weight:bold; border:1px solid #cccccc; text-align:left; margin:0; padding:6px 13px; } table tr td{ border:1px solid #cccccc; text-align:left; margin:0; padding:6px 13px; } table tr th :first-child, table tr td :first-child{ margin-top:0; } table tr th :last-child, table tr td :last-child{ margin-bottom:0; } img{ border:1px solid #E1E1E1; margin:0 auto 10px; display:block; max-width:512px; padding:5px; } span.frame{ display:block; overflow:hidden; } span.frame > span{ border:1px solid #dddddd; display:block; float:left; overflow:hidden; margin:13px 0 0; padding:7px; width:auto; } span.frame span img{ display:block; float:left; } span.frame span span{ clear:both; color:#333333; display:block; padding:5px 0 0; } span.align-center{ display:block; overflow:hidden; clear:both; } span.align-center > span{ display:block; overflow:hidden; margin:13px auto 0; text-align:center; } span.align-center span img{ margin:0 auto; text-align:center; } span.align-right{ display:block; overflow:hidden; clear:both; } span.align-right > span{ display:block; overflow:hidden; margin:13px 0 0; text-align:right; } span.align-right span img{ margin:0; text-align:right; } span.float-left{ display:block; margin-right:13px; overflow:hidden; float:left; } span.float-left span{ margin:13px 0 0; } span.float-right{ display:block; margin-left:13px; overflow:hidden; float:right; } span.float-right > span{ display:block; overflow:hidden; margin:13px auto 0; text-align:right; } code, tt{ margin:0 2px; padding:0 5px; white-space:nowrap; border:1px solid #eaeaea; background-color:#f8f8f8; border-radius:3px; } pre code{ margin:0; padding:0; white-space:pre; border:none; background:transparent; } .highlight pre{ background-color:#f8f8f8; border:1px solid #cccccc; font-size:13px; line-height:19px; overflow:auto; padding:6px 10px; border-radius:3px; } pre{ background-color:#f8f8f8; border:1px solid #cccccc; font-size:13px; line-height:19px; overflow:auto; padding:6px 10px; border-radius:3px; } pre code, pre tt{ background-color:transparent; border:none; } @media screen and (min-width: 914px){     body{ width:854px; margin:0 auto; } } </style></head><body><p>I have been writing some integration tests in .NET lately to specify behavior for my data layer. The issue that always comes up is how to make sure that each test is completely isolated from other tests. This requires each test to initialize needed data and at the end to clean up any data that was created so that other tests are not impacted by it. In the past I have set up compensating queries to delete that same data on tear down.</p>  <p>This can create one of two problems:</p>  <ul><li><strong>maintainability</strong> - it is hard to maintain this logic going forward</li><li><strong>reliability</strong> - it doesnâ€™t guarantee successful rollback of the initial inserts because the query could possibly fail leaving the tests in a position for unsuccessful future tests against the database</li></ul><p>So, what do you do?</p>  <p>I have been using the handy <a href=\"http://msdn.microsoft.com/en-us/library/system.transactions.transactionscope.aspx\">TransactionScope</a> class to allow any connections to participate in the ambient transaction and then dispose of the transaction without committing on tear down of the fixture.</p>  <p>In the example below, I have used NUnit, but this could work with other testing frameworks quite well.</p>  <pre><code>[TestFixture]<br />public class MyFixture<br />{<br />    private TransactionScope _scope;<br /><br />    [SetUp]<br />    public void SetUp()<br />    {<br />        _scope = new TransactionScope();<br />    }<br /><br />    [TearDown]<br />    public void TearDown()<br />    {<br />        _scope.Dispose();<br />    }<br /><br />    ///&lt;summary&gt;This is a silly sample test for display purposes only.&lt;/summary&gt;<br />    [Test]<br />    public void given_context_when_something_happens_should_have_expected_outcome()<br />    {<br />        ExecuteSomeLogicForInsertingDataForContext();<br /><br />        RunSomeActionToMakeSomethingHappen();<br /><br />        AssertThatSomeExpectedOutcomeOccured();<br />    }<br />}<br /></code></pre><p>You could make this an abstract base class and make the SetUp and TearDown methods virtual if you would like to reuse this across any of your data test fixtures. As long as you donâ€™t call _scope.Complete() the changes you have made should be rolled back/aborted on the disposal of the transaction.</p>  <p>Hope this helps!</p> </body></html><div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1400830260001,"created_by":1,"updated_at":1401069489122,"updated_by":1,"published_at":1400830260001,"published_by":1},{"id":2,"title":"New Blog Series","slug":"new_blog_series","markdown":"<!DOCTYPE html><html><head><title>2014-01-20_new_blog_series</title><style>/*  Name: GeekPark article style for Mou app Author: hzlzh(hzlzh.dev@gmail.com) URL: https://github.com/GeekPark/Doc/blob/master/GeekPark/GeekPark-Style-for-Mou.css */ body{ font-family:\"Microsoft Yahei\",\"Helvetica Neue\",\"Luxi Sans\",\"DejaVu Sans\",Tahoma,\"Hiragino Sans GB\",STHeiti; font-size:14px; line-height:1.6; color:#666666; padding-top:10px; padding-bottom:10px; background-color:white; padding:30px; } body > *:first-child{ margin-top:0 !important; } body > *:last-child{ margin-bottom:0 !important; } a{ color:#109EFF; text-decoration:none; } a:hover{ border-bottom:1px dotted #109EFF; } a:visited, a:active{ color:#109EFF; } a.absent{ color:#cc0000; } a.anchor{ display:block; padding-left:30px; margin-left:-30px; cursor:pointer; position:absolute; top:0; left:0; bottom:0; } p a{ margin:0 2px; } h1, h2, h3, h4, h5, h6{ color:#333333; margin:20px 0 10px; padding:0; font-weight:bold; -webkit-font-smoothing:antialiased; cursor:text; position:relative; } h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor{ background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA09pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoMTMuMCAyMDEyMDMwNS5tLjQxNSAyMDEyLzAzLzA1OjIxOjAwOjAwKSAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUM2NjlDQjI4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUM2NjlDQjM4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QzY2OUNCMDg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QzY2OUNCMTg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsQhXeAAAABfSURBVHjaYvz//z8DJYCRUgMYQAbAMBQIAvEqkBQWXI6sHqwHiwG70TTBxGaiWwjCTGgOUgJiF1J8wMRAIUA34B4Q76HUBelAfJYSA0CuMIEaRP8wGIkGMA54bgQIMACAmkXJi0hKJQAAAABJRU5ErkJggg==) no-repeat 10px center; text-decoration:none; } h1 tt, h1 code{ font-size:inherit; } h2 tt, h2 code{ font-size:inherit; } h3 tt, h3 code{ font-size:inherit; } h4 tt, h4 code{ font-size:inherit; } h5 tt, h5 code{ font-size:inherit; } h6 tt, h6 code{ font-size:inherit; } h1{ font-size:18px; font-weight:bold; line-height:22px; margin-bottom:5px; color:#333; } h2{ font-size:16px; font-weight:bolder; line-height:18px; margin:20px 0; } h3{ font-size:14px; } h4{ color:#666; font-size:14px; font-weight:bolder; line-height:18px; margin:20px 0; } h5{ font-size:14px; } h6{ color:#777777; font-size:14px; } p, blockquote, ul, ol, dl, li, table, pre{ margin:15px 0; line-height:150%; } hr{ background:transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0; border:0 none; color:#cccccc; height:4px; padding:0; } body > h2:first-child{ margin-top:0; padding-top:0; } body > h1:first-child{ margin-top:0; padding-top:0; } body > h1:first-child + h2{ margin-top:0; padding-top:0; } body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child{ margin-top:0; padding-top:0; } a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6{ margin-top:0; padding-top:0; } h1 p, h2 p, h3 p, h4 p, h5 p, h6 p{ margin-top:0; } li p.first{ display:inline-block; } li{ font-size:14px; line-height:150%; margin-bottom:5px; margin-top:0; } ul, ol{ padding-left:30px; } ul :first-child, ol :first-child{ margin-top:0; } dl{ padding:0; } dl dt{ font-size:14px; font-weight:bold; font-style:italic; padding:0; margin:15px 0 5px; } dl dt:first-child{ padding:0; } dl dt > :first-child{ margin-top:0; } dl dt > :last-child{ margin-bottom:0; } dl dd{ margin:0 0 15px; padding:0 15px; } dl dd > :first-child{ margin-top:0; } dl dd > :last-child{ margin-bottom:0; } blockquote{ background:url(\"data:image/png;base64,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\") no-repeat scroll left 11px transparent; color:#999999; margin-left:28px; min-height:30px; padding:17px 40px 0; } blockquote p{ color:#999999 !important; margin-bottom:25px !important; } blockquote > :first-child{ margin-top:0; } blockquote > :last-child{ margin-bottom:0; } table{ padding:0; border-collapse:collapse; } table tr{ border-top:1px solid #cccccc; background-color:white; margin:0; padding:0; } table tr:nth-child(2n){ background-color:#f8f8f8; } table tr th{ font-weight:bold; border:1px solid #cccccc; text-align:left; margin:0; padding:6px 13px; } table tr td{ border:1px solid #cccccc; text-align:left; margin:0; padding:6px 13px; } table tr th :first-child, table tr td :first-child{ margin-top:0; } table tr th :last-child, table tr td :last-child{ margin-bottom:0; } img{ border:1px solid #E1E1E1; margin:0 auto 10px; display:block; max-width:512px; padding:5px; } span.frame{ display:block; overflow:hidden; } span.frame > span{ border:1px solid #dddddd; display:block; float:left; overflow:hidden; margin:13px 0 0; padding:7px; width:auto; } span.frame span img{ display:block; float:left; } span.frame span span{ clear:both; color:#333333; display:block; padding:5px 0 0; } span.align-center{ display:block; overflow:hidden; clear:both; } span.align-center > span{ display:block; overflow:hidden; margin:13px auto 0; text-align:center; } span.align-center span img{ margin:0 auto; text-align:center; } span.align-right{ display:block; overflow:hidden; clear:both; } span.align-right > span{ display:block; overflow:hidden; margin:13px 0 0; text-align:right; } span.align-right span img{ margin:0; text-align:right; } span.float-left{ display:block; margin-right:13px; overflow:hidden; float:left; } span.float-left span{ margin:13px 0 0; } span.float-right{ display:block; margin-left:13px; overflow:hidden; float:right; } span.float-right > span{ display:block; overflow:hidden; margin:13px auto 0; text-align:right; } code, tt{ margin:0 2px; padding:0 5px; white-space:nowrap; border:1px solid #eaeaea; background-color:#f8f8f8; border-radius:3px; } pre code{ margin:0; padding:0; white-space:pre; border:none; background:transparent; } .highlight pre{ background-color:#f8f8f8; border:1px solid #cccccc; font-size:13px; line-height:19px; overflow:auto; padding:6px 10px; border-radius:3px; } pre{ background-color:#f8f8f8; border:1px solid #cccccc; font-size:13px; line-height:19px; overflow:auto; padding:6px 10px; border-radius:3px; } pre code, pre tt{ background-color:transparent; border:none; } @media screen and (min-width: 914px){     body{ width:854px; margin:0 auto; } } </style></head><body><figure>![](https://raw2.github.com/toddmeinershagen/Blog.Posts/master/images/happy_new_year_banner.jpg \"Happy New Year!\")<figcaption></figcaption></figure> \n\nAs the new year is upon us, I have decided that I need to more consistently contribute to the community. And what better way to do that than to write more consistently on my blog. \n\nIn order to produce something a few times every week, I have decided to explore the tools that I use every day in greater depth - to look further into the nooks and crannies and make sure that I truly understand the capabilities of the tools that I leverage. \n\nThis idea came from the book, **&#8220;The Passionate Programmer&#8221;** by Chad Fowler. In it, he suggests that, \n > Our industry tends to practice on the job. \n\nHe then relates our craft to the art of playing music, and, \n > Musicians are paid to perform in publicâ€”not to practice. \n\nSo why would we expect to do it differently in our profession. \n <figure>![](https://raw2.github.com/toddmeinershagen/Blog.Posts/master/images/musician_practicing.jpg \"A Practicing Violinist\")<figcaption></figcaption></figure> \n\nIt takes hours of practice in order to learn our craft and, unfortunately, too many are practicing on the job these days, because it is acceptable. You cannot learn everything that you ought to know as a software craftsman by merely writing code for production software. Focusing on certain aspects is needed in order to increase the quality and resilience of what we produce. \n\nOne of the areas that musicians focus on developing is **physical/coordination** or focusing on fundamental technical aspects of playing an instrument. They do this by playing scales in all of the range of the instrument, building the muscles in their lips or gaining callouses in their fingers, practicing dynamics with their diaphragms, etc. They cannot always be playing nice sounding music - they have to play simple, focused, seemingly monotonous exercises to focus on these fundamentals.\n\nHow can a software craftsman do the same? They can focus on looking at the full range of functionality available to them within a certain language, platform, or tool. And they can practice using these tools in private exercises known as katas or personal projects. That is what I seek to do with this series. \n\nFor starters, you may not have noticed it, but I am writing this blog now entirely in markdown syntax. In this post, I learned the following:\n\n*   **Images** - add an exclamation &#8216;!&#8217; at the beginning, follow with brackets [alt text] with some alternate text, open parentheses (url &#8220;optional title&#8221;) with a url and a title in quotes, which is optional.\n*   **Strong Emphasis** - add two astericks &#8216;**&#8217; or two underlines &#8216;__&#8217; on both sides of a word/phrase to emphasize it in italics.\n*   **Block Quotes** - add a greater than sign &#8216;&gt;&#8217; to the left of each sentence and it will stand out as a quote.\n*   **Unordered Lists** - add an astericks &#8216;*&#8217; before each line which is translated into an unordered list item in HTML.\n*   **Inline Links** - add brackets [text] including any text to display and follow up with parentheses (url &#8220;optional title&#8221;) with a url and optional title in quotes. \n\nYou can find out more about markdown syntax by looking at **[this post](http://daringfireball.net/projects/markdown/syntax#img)** from the Daring Fireball blog, which does a good job of explaining the basic features of markdown.\n\nHope it helps!\n</body></html>\n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"<!DOCTYPE html><html><head><title>2014-01-20_new_blog_series</title><style>/*  Name: GeekPark article style for Mou app Author: hzlzh(hzlzh.dev@gmail.com) URL: https://github.com/GeekPark/Doc/blob/master/GeekPark/GeekPark-Style-for-Mou.css */ body{ font-family:\"Microsoft Yahei\",\"Helvetica Neue\",\"Luxi Sans\",\"DejaVu Sans\",Tahoma,\"Hiragino Sans GB\",STHeiti; font-size:14px; line-height:1.6; color:#666666; padding-top:10px; padding-bottom:10px; background-color:white; padding:30px; } body > *:first-child{ margin-top:0 !important; } body > *:last-child{ margin-bottom:0 !important; } a{ color:#109EFF; text-decoration:none; } a:hover{ border-bottom:1px dotted #109EFF; } a:visited, a:active{ color:#109EFF; } a.absent{ color:#cc0000; } a.anchor{ display:block; padding-left:30px; margin-left:-30px; cursor:pointer; position:absolute; top:0; left:0; bottom:0; } p a{ margin:0 2px; } h1, h2, h3, h4, h5, h6{ color:#333333; margin:20px 0 10px; padding:0; font-weight:bold; -webkit-font-smoothing:antialiased; cursor:text; position:relative; } h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor{ background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA09pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoMTMuMCAyMDEyMDMwNS5tLjQxNSAyMDEyLzAzLzA1OjIxOjAwOjAwKSAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUM2NjlDQjI4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUM2NjlDQjM4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QzY2OUNCMDg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QzY2OUNCMTg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsQhXeAAAABfSURBVHjaYvz//z8DJYCRUgMYQAbAMBQIAvEqkBQWXI6sHqwHiwG70TTBxGaiWwjCTGgOUgJiF1J8wMRAIUA34B4Q76HUBelAfJYSA0CuMIEaRP8wGIkGMA54bgQIMACAmkXJi0hKJQAAAABJRU5ErkJggg==) no-repeat 10px center; text-decoration:none; } h1 tt, h1 code{ font-size:inherit; } h2 tt, h2 code{ font-size:inherit; } h3 tt, h3 code{ font-size:inherit; } h4 tt, h4 code{ font-size:inherit; } h5 tt, h5 code{ font-size:inherit; } h6 tt, h6 code{ font-size:inherit; } h1{ font-size:18px; font-weight:bold; line-height:22px; margin-bottom:5px; color:#333; } h2{ font-size:16px; font-weight:bolder; line-height:18px; margin:20px 0; } h3{ font-size:14px; } h4{ color:#666; font-size:14px; font-weight:bolder; line-height:18px; margin:20px 0; } h5{ font-size:14px; } h6{ color:#777777; font-size:14px; } p, blockquote, ul, ol, dl, li, table, pre{ margin:15px 0; line-height:150%; } hr{ background:transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0; border:0 none; color:#cccccc; height:4px; padding:0; } body > h2:first-child{ margin-top:0; padding-top:0; } body > h1:first-child{ margin-top:0; padding-top:0; } body > h1:first-child + h2{ margin-top:0; padding-top:0; } body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child{ margin-top:0; padding-top:0; } a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6{ margin-top:0; padding-top:0; } h1 p, h2 p, h3 p, h4 p, h5 p, h6 p{ margin-top:0; } li p.first{ display:inline-block; } li{ font-size:14px; line-height:150%; margin-bottom:5px; margin-top:0; } ul, ol{ padding-left:30px; } ul :first-child, ol :first-child{ margin-top:0; } dl{ padding:0; } dl dt{ font-size:14px; font-weight:bold; font-style:italic; padding:0; margin:15px 0 5px; } dl dt:first-child{ padding:0; } dl dt > :first-child{ margin-top:0; } dl dt > :last-child{ margin-bottom:0; } dl dd{ margin:0 0 15px; padding:0 15px; } dl dd > :first-child{ margin-top:0; } dl dd > :last-child{ margin-bottom:0; } blockquote{ background:url(\"data:image/png;base64,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\") no-repeat scroll left 11px transparent; color:#999999; margin-left:28px; min-height:30px; padding:17px 40px 0; } blockquote p{ color:#999999 !important; margin-bottom:25px !important; } blockquote > :first-child{ margin-top:0; } blockquote > :last-child{ margin-bottom:0; } table{ padding:0; border-collapse:collapse; } table tr{ border-top:1px solid #cccccc; background-color:white; margin:0; padding:0; } table tr:nth-child(2n){ background-color:#f8f8f8; } table tr th{ font-weight:bold; border:1px solid #cccccc; text-align:left; margin:0; padding:6px 13px; } table tr td{ border:1px solid #cccccc; text-align:left; margin:0; padding:6px 13px; } table tr th :first-child, table tr td :first-child{ margin-top:0; } table tr th :last-child, table tr td :last-child{ margin-bottom:0; } img{ border:1px solid #E1E1E1; margin:0 auto 10px; display:block; max-width:512px; padding:5px; } span.frame{ display:block; overflow:hidden; } span.frame > span{ border:1px solid #dddddd; display:block; float:left; overflow:hidden; margin:13px 0 0; padding:7px; width:auto; } span.frame span img{ display:block; float:left; } span.frame span span{ clear:both; color:#333333; display:block; padding:5px 0 0; } span.align-center{ display:block; overflow:hidden; clear:both; } span.align-center > span{ display:block; overflow:hidden; margin:13px auto 0; text-align:center; } span.align-center span img{ margin:0 auto; text-align:center; } span.align-right{ display:block; overflow:hidden; clear:both; } span.align-right > span{ display:block; overflow:hidden; margin:13px 0 0; text-align:right; } span.align-right span img{ margin:0; text-align:right; } span.float-left{ display:block; margin-right:13px; overflow:hidden; float:left; } span.float-left span{ margin:13px 0 0; } span.float-right{ display:block; margin-left:13px; overflow:hidden; float:right; } span.float-right > span{ display:block; overflow:hidden; margin:13px auto 0; text-align:right; } code, tt{ margin:0 2px; padding:0 5px; white-space:nowrap; border:1px solid #eaeaea; background-color:#f8f8f8; border-radius:3px; } pre code{ margin:0; padding:0; white-space:pre; border:none; background:transparent; } .highlight pre{ background-color:#f8f8f8; border:1px solid #cccccc; font-size:13px; line-height:19px; overflow:auto; padding:6px 10px; border-radius:3px; } pre{ background-color:#f8f8f8; border:1px solid #cccccc; font-size:13px; line-height:19px; overflow:auto; padding:6px 10px; border-radius:3px; } pre code, pre tt{ background-color:transparent; border:none; } @media screen and (min-width: 914px){     body{ width:854px; margin:0 auto; } } </style></head><body><figure><img src=\"https://raw2.github.com/toddmeinershagen/Blog.Posts/master/images/happy_new_year_banner.jpg\" alt=\"\" title=\"Happy New Year!\" /><figcaption></figcaption></figure> <p>As the new year is upon us, I have decided that I need to more consistently contribute to the community. And what better way to do that than to write more consistently on my blog. </p> <p>In order to produce something a few times every week, I have decided to explore the tools that I use every day in greater depth - to look further into the nooks and crannies and make sure that I truly understand the capabilities of the tools that I leverage. </p> <p>This idea came from the book, <strong>&#8220;The Passionate Programmer&#8221;</strong> by Chad Fowler. In it, he suggests that, </p> <blockquote><p>Our industry tends to practice on the job.</p></blockquote> <p>He then relates our craft to the art of playing music, and, </p> <blockquote><p>Musicians are paid to perform in publicâ€”not to practice. </p></blockquote> <p>So why would we expect to do it differently in our profession. </p> <figure><img src=\"https://raw2.github.com/toddmeinershagen/Blog.Posts/master/images/musician_practicing.jpg\" alt=\"\" title=\"A Practicing Violinist\" /><figcaption></figcaption></figure> <p>It takes hours of practice in order to learn our craft and, unfortunately, too many are practicing on the job these days, because it is acceptable. You cannot learn everything that you ought to know as a software craftsman by merely writing code for production software. Focusing on certain aspects is needed in order to increase the quality and resilience of what we produce. </p> <p>One of the areas that musicians focus on developing is <strong>physical/coordination</strong> or focusing on fundamental technical aspects of playing an instrument. They do this by playing scales in all of the range of the instrument, building the muscles in their lips or gaining callouses in their fingers, practicing dynamics with their diaphragms, etc. They cannot always be playing nice sounding music - they have to play simple, focused, seemingly monotonous exercises to focus on these fundamentals.</p> <p>How can a software craftsman do the same? They can focus on looking at the full range of functionality available to them within a certain language, platform, or tool. And they can practice using these tools in private exercises known as katas or personal projects. That is what I seek to do with this series. </p> <p>For starters, you may not have noticed it, but I am writing this blog now entirely in markdown syntax. In this post, I learned the following:</p> <ul><li><strong>Images</strong> - add an exclamation &#8216;!&#8217; at the beginning, follow with brackets [alt text] with some alternate text, open parentheses (url &#8220;optional title&#8221;) with a url and a title in quotes, which is optional.</li><li><strong>Strong Emphasis</strong> - add two astericks &#8216;**&#8217; or two underlines &#8216;__&#8217; on both sides of a word/phrase to emphasize it in italics.</li><li><strong>Block Quotes</strong> - add a greater than sign &#8216;&gt;&#8217; to the left of each sentence and it will stand out as a quote.</li><li><strong>Unordered Lists</strong> - add an astericks &#8216;*&#8217; before each line which is translated into an unordered list item in HTML.</li><li><strong>Inline Links</strong> - add brackets [text] including any text to display and follow up with parentheses (url &#8220;optional title&#8221;) with a url and optional title in quotes.</li></ul> <p>You can find out more about markdown syntax by looking at <strong><a href=\"http://daringfireball.net/projects/markdown/syntax#img\">this post</a></strong> from the Daring Fireball blog, which does a good job of explaining the basic features of markdown.</p> <p>Hope it helps!</p></body></html><div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1390260540000,"created_by":1,"updated_at":1390338313616,"updated_by":1,"published_at":1390260540000,"published_by":1},{"id":3,"title":"New Library for Non-Deterministic Testing","slug":"new_library_for_non_deterministic_testing","markdown":"I have currently been working on creating a system-level, feature test for some functionality that our company is developing to allow hospitals and health care providers to request a batch of eligibility requests for patients using a combination of Visual Studio 2012, SpecFlow 1.8 and FluentAssertions. Â \nIn doing so, I ran into the problem of non-deterministic time. Â Once a user uploads a file of requests, there is not a determined amount of time for that request to get a response from a third-party provider that we use to fulfill the request. Â \nSo how do we handle the fact that we need to make some assertions at the end of the upload? Â What would be nice would be to either retry assertions that fail or keep trying an assertion in the event of failure for a given timeout period. Â In this case, we need to know that we can get a response within 30 seconds.\nEnter James.Testing. Â (Check it out when you get a chance. Â You can download the dependency to your project from NuGet.org here.)\n\nJames.Testing is a library of test utilities named after the author who wrote the book of James in the Bible.> \"Dear brothers and sisters, when troubles come your way, consider it an opportunity for great joy. For you know that when your faith is tested, your endurance has a chance to grow.\"&nbsp;**(James 1:2-3)**It's a fairly apt description of what testing ought to do for our applications as well.Below is a description of the supported features.\n\n## [](https://github.com/toddmeinershagen/James.Testing#action-extensions)Action Extensions\n\n### [](https://github.com/toddmeinershagen/James.Testing#executing-an-action-with-retries)Executing an Action with Retries\nMany times in integration tests, there is a non-deterministic time period between executing some initial action and asserting your expectations for the outcome. In this case, it would be nice to have a method for automatically having the test retry your action for a number of times even though the assertion fails. This method also supports setting a wait time in between retries so that you don't overload your system.Example:\n\n    var counter = 0;\n    Action action = () =&gt; counter++;\n    action.ExecuteWithRetries(times, waitTimeInSeconds);\n    `</pre>\n\n    ### [](https://github.com/toddmeinershagen/James.Testing#executing-an-action-with-a-timeout-period)Executing an Action with a Timeout Period\n    In other cases, you might want to execute a given action for a given time period. For instance, if you have a requirement to expect a response within 30 seconds, you can set the maximum timeout period to 30 seconds for your assertions. This method also allows a user to set a given wait time between executions of a given action.Example:<pre style=\"background-color: #f8f8f8; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(221, 221, 221); color: #333333; font-family: Consolas, &apos;Liberation Mono&apos;, Courier, monospace; font-size: 13px; line-height: 19px; margin-top: 15px; overflow: auto; padding: 6px 10px;\">`var counter = 0;\n    Action action = () =&gt; counter++;\n    action.ExecuteWithTimeout(timeoutInSeconds, waitTimeInSeconds);\n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"<span style=\"color: #333333; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 15px; line-height: 25px;\">I have currently been working on creating a system-level, feature test for some functionality that our company is developing to allow hospitals and health care providers to request a batch of eligibility requests for patients using a combination of Visual Studio 2012, <a href=\"http://www.specflow.org/specflownew/\" target=\"_blank\">SpecFlow 1.8</a> and <a href=\"http://fluentassertions.codeplex.com/\" target=\"_blank\">FluentAssertions</a>. &nbsp;</span><br /><span style=\"color: #333333; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 15px; line-height: 25px;\"><br /></span><span style=\"color: #333333; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 15px; line-height: 25px;\">In doing so, I ran into the problem of non-deterministic time. &nbsp;</span><span style=\"color: #333333; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 15px; line-height: 25px;\">Once a user uploads a file of requests, there is not a determined amount of time for that request to get a response from a third-party provider that we use to fulfill the request. &nbsp;</span><br /><span style=\"color: #333333; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 15px; line-height: 25px;\"><br /></span><span style=\"color: #333333; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 15px; line-height: 25px;\">So how do we handle the fact that we need to make some assertions at the end of the upload? &nbsp;What would be nice would be to either retry assertions that fail or keep trying an assertion in the event of failure for a given timeout period. &nbsp;In this case, we need to know that we can get a response within 30 seconds.</span><br /><span style=\"color: #333333; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 15px; line-height: 25px;\"><br /></span><span style=\"color: #333333; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 15px; line-height: 25px;\">Enter <a href=\"https://github.com/toddmeinershagen/James.Testing\" target=\"_blank\">James.Testing</a>. &nbsp;(Check it out when you get a chance. &nbsp;You can download the dependency to your project from NuGet.org <a href=\"https://www.nuget.org/packages/James.Testing/\" target=\"_blank\">here</a>.)</span><br /><br /><div style=\"color: #333333; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 15px; line-height: 25px; margin-bottom: 15px; margin-top: 15px;\">James.Testing is a library of test utilities named after the author who wrote the book of James in the Bible.</div><blockquote style=\"border-left-color: rgb(221, 221, 221); border-left-style: solid; border-left-width: 4px; color: #777777; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 15px; line-height: 25px; margin: 15px 0px; padding: 0px 15px;\">\"Dear brothers and sisters, when troubles come your way, consider it an opportunity for great joy. For you know that when your faith is tested, your endurance has a chance to grow.\"&nbsp;<strong>(James 1:2-3)</strong></blockquote><div style=\"color: #333333; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 15px; line-height: 25px; margin-bottom: 15px; margin-top: 15px;\">It's a fairly apt description of what testing ought to do for our applications as well.</div><div style=\"color: #333333; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 15px; line-height: 25px; margin-bottom: 15px; margin-top: 15px;\">Below is a description of the supported features.</div><h2 style=\"border-bottom-color: rgb(238, 238, 238); border-bottom-style: solid; border-bottom-width: 1px; color: #333333; cursor: text; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 2em; line-height: 1.7; margin: 1em 0px 15px; padding: 0px; position: relative;\"><a class=\"anchor\" href=\"https://github.com/toddmeinershagen/James.Testing#action-extensions\" name=\"action-extensions\" style=\"bottom: 0px; color: #4183c4; cursor: pointer; display: block; left: 0px; margin-left: -30px; padding-left: 30px; position: absolute; text-decoration: none; top: 0px;\"></a>Action Extensions</h2><h3 style=\"color: #333333; cursor: text; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 1.5em; line-height: 1.7; margin: 1em 0px 15px; padding: 0px; position: relative;\"><a class=\"anchor\" href=\"https://github.com/toddmeinershagen/James.Testing#executing-an-action-with-retries\" name=\"executing-an-action-with-retries\" style=\"bottom: 0px; color: #4183c4; cursor: pointer; display: block; left: 0px; margin-left: -30px; padding-left: 30px; position: absolute; text-decoration: none; top: 0px;\"></a>Executing an Action with Retries</h3><div style=\"color: #333333; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 15px; line-height: 25px; margin-bottom: 15px; margin-top: 15px;\">Many times in integration tests, there is a non-deterministic time period between executing some initial action and asserting your expectations for the outcome. In this case, it would be nice to have a method for automatically having the test retry your action for a number of times even though the assertion fails. This method also supports setting a wait time in between retries so that you don't overload your system.</div><div style=\"color: #333333; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 15px; line-height: 25px; margin-bottom: 15px; margin-top: 15px;\"><strong>Example:</strong></div><pre style=\"background-color: #f8f8f8; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(221, 221, 221); color: #333333; font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 13px; line-height: 19px; margin-bottom: 15px; margin-top: 15px; overflow: auto; padding: 6px 10px;\"><code style=\"background-color: transparent; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: none; font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 12px; margin: 0px; padding: 0px;\">var counter = 0;<br />Action action = () =&gt; counter++;<br />action.ExecuteWithRetries(times, waitTimeInSeconds);<br /></code></pre><h3 style=\"color: #333333; cursor: text; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 1.5em; line-height: 1.7; margin: 1em 0px 15px; padding: 0px; position: relative;\"><a class=\"anchor\" href=\"https://github.com/toddmeinershagen/James.Testing#executing-an-action-with-a-timeout-period\" name=\"executing-an-action-with-a-timeout-period\" style=\"bottom: 0px; color: #4183c4; cursor: pointer; display: block; left: 0px; margin-left: -30px; padding-left: 30px; position: absolute; text-decoration: none; top: 0px;\"></a>Executing an Action with a Timeout Period</h3><div style=\"color: #333333; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 15px; line-height: 25px; margin-bottom: 15px; margin-top: 15px;\">In other cases, you might want to execute a given action for a given time period. For instance, if you have a requirement to expect a response within 30 seconds, you can set the maximum timeout period to 30 seconds for your assertions. This method also allows a user to set a given wait time between executions of a given action.</div><div style=\"color: #333333; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 15px; line-height: 25px; margin-bottom: 15px; margin-top: 15px;\"><strong>Example:</strong></div><pre style=\"background-color: #f8f8f8; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(221, 221, 221); color: #333333; font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 13px; line-height: 19px; margin-top: 15px; overflow: auto; padding: 6px 10px;\"><code style=\"background-color: transparent; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: none; font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 12px; margin: 0px; padding: 0px;\">var counter = 0;<br />Action action = () =&gt; counter++;<br />action.ExecuteWithTimeout(timeoutInSeconds, waitTimeInSeconds);</code></pre><div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1376612160001,"created_by":1,"updated_at":1376613459009,"updated_by":1,"published_at":1376612160001,"published_by":1},{"id":4,"title":"Investigating a Build Configuration Change in TeamCity","slug":"investigating_a_build_configuration_change_in_team_city","markdown":"&nbsp;\n\nOur team is using TeamCity to run our continuous integration and nightly builds for our current project.&nbsp; We discovered that in one of our build configurations, there was a build step that was no longer present, and we wanted to know who/what deleted it.\n\nAfter looking online without success, I found that TeamCity actually provides auditing for these kinds of activities out of the box.&nbsp; In order to find this information do the following:\n\n1.&nbsp; Click on the Administration link in the upper, right-hand corner of the TeamCity dashboard.&nbsp; (Yes â€“ this requires administrator privileges for at least the project.)\n\n2.&nbsp; Click on the Audit link under the Project-related Settings section in the left-hand side of the screen.&nbsp; (Shown below)\n\n[![image](http://lh6.ggpht.com/-WsmzBATH3-g/UG9YUQLBPCI/AAAAAAAAAEQ/2WyzE6bPOAQ/image_thumb%25255B11%25255D.png?imgmax=800 \"image\")](http://lh6.ggpht.com/-lQJQbjowgL4/UG9YTxfzC9I/AAAAAAAAAEI/hiUdLJ3dtlw/s1600-h/image%25255B15%25255D.png)\n\n3.&nbsp; Select desired filters above the results list.&nbsp; You can filter by action, build configuration, and user.\n\n4.&nbsp; In the list item in Step 2, you can actually click on the â€œview changesâ€ link to see a comparison of the configurations in order to find out what has changed.&nbsp; Below is an example of a build step being disabled.\n\n[![image](http://lh6.ggpht.com/-LwloKuEg_D4/UG9YVo00iwI/AAAAAAAAAEg/kVscamG1QEY/image_thumb%25255B13%25255D.png?imgmax=800 \"image\")](http://lh6.ggpht.com/-4vynBKTHows/UG9YU0J3WGI/AAAAAAAAAEY/gN1NYPJk_d8/s1600-h/image%25255B19%25255D.png)\n\nHope this help.\n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"<p>&nbsp;</p> <p>Our team is using TeamCity to run our continuous integration and nightly builds for our current project.&nbsp; We discovered that in one of our build configurations, there was a build step that was no longer present, and we wanted to know who/what deleted it.</p> <p>After looking online without success, I found that TeamCity actually provides auditing for these kinds of activities out of the box.&nbsp; In order to find this information do the following:</p> <p>1.&nbsp; Click on the Administration link in the upper, right-hand corner of the TeamCity dashboard.&nbsp; (Yes â€“ this requires administrator privileges for at least the project.)</p> <p>2.&nbsp; Click on the Audit link under the Project-related Settings section in the left-hand side of the screen.&nbsp; (Shown below)</p> <p><a href=\"http://lh6.ggpht.com/-lQJQbjowgL4/UG9YTxfzC9I/AAAAAAAAAEI/hiUdLJ3dtlw/s1600-h/image%25255B15%25255D.png\"><img style=\"background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://lh6.ggpht.com/-WsmzBATH3-g/UG9YUQLBPCI/AAAAAAAAAEQ/2WyzE6bPOAQ/image_thumb%25255B11%25255D.png?imgmax=800\" width=\"598\" height=\"78\"></a></p>  <p>3.&nbsp; Select desired filters above the results list.&nbsp; You can filter by action, build configuration, and user.</p> <p>4.&nbsp; In the list item in Step 2, you can actually click on the â€œview changesâ€ link to see a comparison of the configurations in order to find out what has changed.&nbsp; Below is an example of a build step being disabled.</p> <p><a href=\"http://lh6.ggpht.com/-4vynBKTHows/UG9YU0J3WGI/AAAAAAAAAEY/gN1NYPJk_d8/s1600-h/image%25255B19%25255D.png\"><img style=\"background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px\" title=\"image\" border=\"0\" alt=\"image\" src=\"http://lh6.ggpht.com/-LwloKuEg_D4/UG9YVo00iwI/AAAAAAAAAEg/kVscamG1QEY/image_thumb%25255B13%25255D.png?imgmax=800\" width=\"606\" height=\"107\"></a></p> <p>Hope this help.</p>  <div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1349474340001,"created_by":1,"updated_at":1349474392296,"updated_by":1,"published_at":1349474340001,"published_by":1},{"id":5,"title":"AgileDotNet 2012","slug":"agile_dot_net_2012","markdown":"My company, Improving, is hosting our third annual AgileDotNet conference in Dallas on Friday, February 17th. It will be a day of presentations and discussion focused on agile software development on the Microsoft stack, ALM tools, and the leadership and cultural issues involved in agile IT. &nbsp;Hope you can &nbsp;join us!\n\nFull details can be found [here](http://www.agiledotnet.com/).\n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"My company, Improving, is hosting our third annual AgileDotNet conference in Dallas on Friday, February 17th. It will be a day of presentations and discussion focused on agile software development on the Microsoft stack, ALM tools, and the leadership and cultural issues involved in agile IT. &nbsp;Hope you can &nbsp;join us!<br /><br />Full details can be found <a href=\"http://www.agiledotnet.com/\">here</a>.<div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1327375440003,"created_by":1,"updated_at":1327375532811,"updated_by":1,"published_at":1327375440003,"published_by":1},{"id":6,"title":"Using Gists for Code Snippets","slug":"using_gists_for_code_snippets","markdown":"Normally, I use Windows LiveWriter to write my blogs at [BlogSpot](http://www.blogspot.com/). &nbsp;And I have always used syntax highlighter plug-ins to insert code snippets. &nbsp;These utilities in the past inserted a lot of html elements and style definitions in-line with the rest of the post or required setting up global stylesheets and javascript in order to work.\nIn the last few weeks, as I have been looking at transitioning my blog to a ruby-based engine called OctoPress, I found another mechanism for inserting code snippets - gists from GitHub. Â It allows you to store your code snippets online and easily add them to your posts with one line of code.All you need to do is:1\\. Â Go to http://gists.github.com2\\. Â Sign up for Â a free GitHub accountAll you have to do is click on the link in the upper, right-hand corner \"Sign up for a GitHub account\". Â It leads you through a process.If you don't wish to create an account, you can create gists anonymously as well.3\\. Â Add gist to GitHubAll you need to do in order to add a new gist is:Â a. Â Create a name for the gistb. Â Create a name for the file (this is optional)c. Â Select a languageÂ If you give the file a name, the system will determine what the language is from the extension.d. Â Put the text of the code snippet in the body of the giste. Â Save the gist by clicking on the Save Gist button.4\\. Â Add the gist in your postIn order to add the gist to your post, you will need to click on the show embed link and add the html snippet to the html content of your post. Â In this case,Â <script src=\"https://gist.github.com/1522062.js\"> </script>Once you have added this, the code should appear in the post as below.\n<script src=\"https://gist.github.com/1522037.js\"></script>\n5\\. Â Add line numbers via additional css stylesYou may notice once using the steps above that the native gists from GitHub do not support line numbers currently, so in order to add them I found a gist that contains the .css styles that you need to add to your blog site. Â Once added, all snippets appear with line numbers as you saw in point number 4.Â <script src=\"https://gist.github.com/1243028.js\">  </script>\nIf you find another way to do this by adjusting settings at GitHub, let me know in the comments. Hope this helps!\n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"Normally, I use Windows LiveWriter to write my blogs at <a href=\"http://www.blogspot.com/\">BlogSpot</a>. &nbsp;And I have always used syntax highlighter plug-ins to insert code snippets. &nbsp;These utilities in the past inserted a lot of html elements and style definitions in-line with the rest of the post or required setting up global stylesheets and javascript in order to work.<br /><div><br /></div><div>In the last few weeks, as I have been looking at transitioning my blog to a ruby-based engine called <a href=\"http://www.octopress.org/\">OctoPress</a>, I found another mechanism for inserting code snippets - <a href=\"http://gist.github.com/\">gists</a> from <a href=\"http://www.github.com/\">GitHub</a>. &nbsp;It allows you to store your code snippets online and easily add them to your posts with one line of code.</div><div><br /></div><div>All you need to do is:</div><div><br /></div><div>1. &nbsp;Go to http://gists.github.com</div><div><br /></div><div>2. &nbsp;Sign up for &nbsp;a free GitHub account</div><div><br /></div><div>All you have to do is click on the link in the upper, right-hand corner \"Sign up for a GitHub account\". &nbsp;It leads you through a process.</div><div><br /></div><div class=\"separator\" style=\"clear: both; text-align: center;\"><a href=\"http://3.bp.blogspot.com/-PRKOl9vQD7w/TvjYNKibLuI/AAAAAAAAAB8/NNQ_JlliI7Q/s1600/Screen+Shot+2011-12-26+at+2.24.49+PM.png\" imageanchor=\"1\" style=\"margin-left: 1em; margin-right: 1em;\"><img border=\"0\" height=\"441\" src=\"http://3.bp.blogspot.com/-PRKOl9vQD7w/TvjYNKibLuI/AAAAAAAAAB8/NNQ_JlliI7Q/s640/Screen+Shot+2011-12-26+at+2.24.49+PM.png\" width=\"640\" /></a></div><div class=\"separator\" style=\"clear: both; text-align: center;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\">If you don't wish to create an account, you can create gists anonymously as well.</div><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\">3. &nbsp;Add gist to GitHub</div><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: center;\"><a href=\"http://4.bp.blogspot.com/-Ti1IQuZlWHQ/TvjYmxnwvxI/AAAAAAAAACI/a-1AtmJniTM/s1600/Screen+Shot+2011-12-26+at+2.26.43+PM.png\" imageanchor=\"1\" style=\"margin-left: 1em; margin-right: 1em;\"><img border=\"0\" height=\"352\" src=\"http://4.bp.blogspot.com/-Ti1IQuZlWHQ/TvjYmxnwvxI/AAAAAAAAACI/a-1AtmJniTM/s640/Screen+Shot+2011-12-26+at+2.26.43+PM.png\" width=\"640\" /></a></div><div class=\"separator\" style=\"clear: both; text-align: left;\">All you need to do in order to add a new gist is:&nbsp;</div><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\">a. &nbsp;Create a name for the gist</div><div class=\"separator\" style=\"clear: both; text-align: left;\">b. &nbsp;Create a name for the file (this is optional)</div><div class=\"separator\" style=\"clear: both; text-align: left;\">c. &nbsp;Select a language&nbsp;</div><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\">If you give the file a name, the system will determine what the language is from the extension.</div><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\">d. &nbsp;Put the text of the code snippet in the body of the gist</div><div class=\"separator\" style=\"clear: both; text-align: left;\">e. &nbsp;Save the gist by clicking on the Save Gist button.</div><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: center;\"><a href=\"http://2.bp.blogspot.com/-dbyAlfyIkbI/TvjZoTpr6gI/AAAAAAAAACU/3d8jFBBqpWI/s1600/Screen+Shot+2011-12-26+at+2.26.23+PM.png\" imageanchor=\"1\" style=\"margin-left: 1em; margin-right: 1em;\"><img border=\"0\" height=\"214\" src=\"http://2.bp.blogspot.com/-dbyAlfyIkbI/TvjZoTpr6gI/AAAAAAAAACU/3d8jFBBqpWI/s640/Screen+Shot+2011-12-26+at+2.26.23+PM.png\" width=\"640\" /></a></div><div class=\"separator\" style=\"clear: both; text-align: center;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\">4. &nbsp;Add the gist in your post</div><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\">In order to add the gist to your post, you will need to click on the show embed link and add the html snippet to the html content of your post. &nbsp;In this case,&nbsp;</div><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\">&lt;script src=\"https://gist.github.com/1522062.js\"&gt; &lt;/script&gt;</div><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\">Once you have added this, the code should appear in the post as below.</div><br /><script src=\"https://gist.github.com/1522037.js\"></script><br /><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\">5. &nbsp;Add line numbers via additional css styles</div><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\">You may notice once using the steps above that the native gists from GitHub do not support line numbers currently, so in order to add them I found a gist that contains the .css styles that you need to add to your blog site. &nbsp;Once added, all snippets appear with line numbers as you saw in point number 4.&nbsp;</div><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: left;\"><br /></div><script src=\"https://gist.github.com/1243028.js\">  </script><br /><div>If you find another way to do this by adjusting settings at GitHub, let me know in the comments. <br /><br />Hope this helps!</div><div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1324932120001,"created_by":1,"updated_at":1325533293786,"updated_by":1,"published_at":1324932120001,"published_by":1},{"id":7,"title":"Creating Data-Driven Tests in MS Test","slug":"creating_data_driven_tests_in_ms_test","markdown":"For my current client, I was looking for a way to create a data-driven unit test in MSTest.&nbsp; Basically, you can define a test once and then define a data source that provides multiple rows of data to be sent through the same test.&nbsp; That way, you donâ€™t have to write redundant tests.\nI had done this previously, but I couldnâ€™t remember how it was done.&nbsp; Iâ€™m writing this post in order to remind myself and hopefully help someone out there.\n1.&nbsp; Create a Test Method\nThe first step is to make sure you have a test method.&nbsp; You can do this by making sure that in your test project you have at least one class decorated with the [TestClass] attribute and a method with the [TestMethod] attribute.&nbsp; \n[TestMethod]public void Add_when_two_numbers_returns_proper_result(){}\n<style type=\"text/css\">.csharpcode, .csharpcode pre { font-size: small; color: black; font-family: consolas, \"Courier New\", courier, monospace; background-color: #ffffff; /*white-space: pre;*/ } .csharpcode pre { margin: 0em; } .csharpcode .rem { color: #008000; } .csharpcode .kwrd { color: #0000ff; } .csharpcode .str { color: #006080; } .csharpcode .op { color: #0000c0; } .csharpcode .preproc { color: #cc6633; } .csharpcode .asp { background-color: #ffff00; } .csharpcode .html { color: #800000; } .csharpcode .attr { color: #ff0000; } .csharpcode .alt  { background-color: #f4f4f4; width: 100%; margin: 0em; } .csharpcode .lnum { color: #606060; } </style>\n\nWhen creating this test class, make sure to keep the TestContext property as it is defaulted.&nbsp; You will be using this when coding your test.\n\nprivate TestContext _testContext;Â /// <summary>///Gets or sets the test context which provides///information about and functionality for the current test run.///</summary>public TestContext TestContext{get{return _testContext;}set{_testContext = value;}}\n<style type=\"text/css\">.csharpcode, .csharpcode pre { font-size: small; color: black; font-family: consolas, \"Courier New\", courier, monospace; background-color: #ffffff; /*white-space: pre;*/ } .csharpcode pre { margin: 0em; } .csharpcode .rem { color: #008000; } .csharpcode .kwrd { color: #0000ff; } .csharpcode .str { color: #006080; } .csharpcode .op { color: #0000c0; } .csharpcode .preproc { color: #cc6633; } .csharpcode .asp { background-color: #ffff00; } .csharpcode .html { color: #800000; } .csharpcode .attr { color: #ff0000; } .csharpcode .alt  { background-color: #f4f4f4; width: 100%; margin: 0em; } .csharpcode .lnum { color: #606060; } </style>\n\n2.&nbsp; Add a Test Data File\n\nFor the purposes of this explanation we will be using a simple .csv file (TestData.csv).&nbsp; Make sure to add a text file, preferably at the root of your project with that extension.&nbsp; In the file, you will want to add data.&nbsp; I have added three columns per row:&nbsp; Operand1, Operand2, and ExpectedValue which represents the expected result of adding the two operands together.&nbsp; You can add as many rows of data to check all of the boundary conditions that express your intentions for your unit test.\n\n[![image](http://lh4.ggpht.com/_3gdMjuMkpX4/TVT-yPYTFHI/AAAAAAAAAzw/C49cS0f4O6c/image_thumb%5B38%5D.png?imgmax=800 \"image\")](http://lh3.ggpht.com/_3gdMjuMkpX4/TVT-x3LTJMI/AAAAAAAAAzs/7WSC_pfPJEg/s1600-h/image%5B66%5D.png)\n\nRight-click on the file and select Properties to set the Build Action to Content and the Copy to Output Directory to Copy Always as shown below.&nbsp; This will ensure that the file is copied to the Bin folder when running your unit tests.\n\n[![image](http://lh5.ggpht.com/_3gdMjuMkpX4/TVT-ygga9aI/AAAAAAAAAz4/yfNT0egZxMA/image_thumb%5B17%5D.png?imgmax=800 \"image\")](http://lh3.ggpht.com/_3gdMjuMkpX4/TVT-yc4ZdhI/AAAAAAAAAz0/ugITp5yT1YA/s1600-h/image%5B27%5D.png)\n\n3.&nbsp; Open the Test View from the Test menu.\n\nFrom the Test menu, select the Windows â€“&gt; Test View option as shown below.\n\n[![image](http://lh4.ggpht.com/_3gdMjuMkpX4/TVT-zrs5-RI/AAAAAAAAA0A/Zs2Z8rQOv8s/image_thumb%5B2%5D.png?imgmax=800 \"image\")](http://lh6.ggpht.com/_3gdMjuMkpX4/TVT-zNBhbHI/AAAAAAAAAz8/TWJvdP7Q-yA/s1600-h/image%5B4%5D.png)\n\nOnce you open the Test View, you should see a list of the test methods that are available.&nbsp; When a test is highlighted, you will see the properties for that particular test in the Properties pane as shown below.&nbsp; \n\n[![image](http://lh3.ggpht.com/_3gdMjuMkpX4/TVT-0ri4qkI/AAAAAAAAA0I/fgDlSDkWBqQ/image_thumb%5B22%5D.png?imgmax=800 \"image\")](http://lh3.ggpht.com/_3gdMjuMkpX4/TVT-0GECXTI/AAAAAAAAA0E/DK-UYStZ4c8/s1600-h/image%5B36%5D.png)\n\n4.&nbsp; Assign Test File as Test Data Source\n\nFind the row for Data Connection String in the Properties pane and click on the button to the far right with the ellipses (â€¦).&nbsp; That should open the following dialog where you will be presented with an option to set up a database, csv file, or xml file.\n\n[![image](http://lh5.ggpht.com/_3gdMjuMkpX4/TVT-1Rd7OtI/AAAAAAAAA0Q/3Qo9Y4F573U/image_thumb%5B11%5D.png?imgmax=800 \"image\")](http://lh6.ggpht.com/_3gdMjuMkpX4/TVT-02i6S0I/AAAAAAAAA0M/ZhwHZ_SQiuM/s1600-h/image%5B17%5D.png)\n\nThe database option should be self explanatory.&nbsp; It is like any other database connection, and the most popular option is to use a simple MS Access DB or SQL Express database that you can include with your project.\n\nThe other two options are file based.&nbsp; The CSV file will be explained in further detail below.&nbsp; The main difference between a CSV and XML file is that you can have multiple test data sets in the XML file while only one set of data would be accessible for a CSV.&nbsp; So, if you need to set up data for multiple tests, you would need to maintain multiple files with the CSV option.&nbsp; In the XML option, you could just maintain one with multiple sections within the XML file.\n\nSelect the CSV File option and click Next.\n\n5.&nbsp; Select Your CSV File\n\nAt this point, you will be presented with a dialog to select a CSV file.&nbsp; Click on the (â€¦) button and select the location of the text file that you created for your test.\n\n[![image](http://lh4.ggpht.com/_3gdMjuMkpX4/TVT-2L1T9SI/AAAAAAAAA0Y/dFF5qvdcgnE/image_thumb%5B24%5D.png?imgmax=800 \"image\")](http://lh6.ggpht.com/_3gdMjuMkpX4/TVT-1hsntAI/AAAAAAAAA0U/hbZuogtm908/s1600-h/image%5B40%5D.png)\n\nOnce selected, the dialog will show the contents of your CSV file as a data grid to allow you to examine the contents to make sure that the data is what you were expecting.\n\n[![image](http://lh4.ggpht.com/_3gdMjuMkpX4/TVT-2mklPKI/AAAAAAAAA0g/cuPXtUb5_ck/image_thumb%5B40%5D.png?imgmax=800 \"image\")](http://lh3.ggpht.com/_3gdMjuMkpX4/TVT-2W9liFI/AAAAAAAAA0c/-cQFninilUE/s1600-h/image%5B70%5D.png)\n\nClick the Finish button once you have confirmed the file contents.&nbsp; You will notice that the properties have been updated to reflect the change.\n\n[![image](http://lh3.ggpht.com/_3gdMjuMkpX4/TVT-3SpJdqI/AAAAAAAAA0o/M1uDhNr3aqE/image_thumb%5B29%5D.png?imgmax=800 \"image\")](http://lh5.ggpht.com/_3gdMjuMkpX4/TVT-29mBjJI/AAAAAAAAA0k/Em7c81PdO4U/s1600-h/image%5B49%5D.png)\n\nIn addition, Visual Studio will add a [DataSource] and [DeploymentItem] attributes to your original test method as shown below with the same information.&nbsp; In the future, you can set these attributes up on a test without needing to use the Properties wizard for selecting a Data Source.\n\n[DataSource(\"Microsoft.VisualStudio.TestTools.DataSource.CSV\", \"|DataDirectory|\\\\TestData.csv\", \"TestData#csv\", DataAccessMethod.Sequential), DeploymentItem(\"Demo.DataDrivenTests\\\\TestData.csv\"), DeploymentItem(\"TestData.csv\"), TestMethod]public void Add_when_two_numbers_returns_proper_result(){}\n<style type=\"text/css\">.csharpcode, .csharpcode pre { font-size: small; color: black; font-family: consolas, \"Courier New\", courier, monospace; background-color: #ffffff; /*white-space: pre;*/ } .csharpcode pre { margin: 0em; } .csharpcode .rem { color: #008000; } .csharpcode .kwrd { color: #0000ff; } .csharpcode .str { color: #006080; } .csharpcode .op { color: #0000c0; } .csharpcode .preproc { color: #cc6633; } .csharpcode .asp { background-color: #ffff00; } .csharpcode .html { color: #800000; } .csharpcode .attr { color: #ff0000; } .csharpcode .alt  { background-color: #f4f4f4; width: 100%; margin: 0em; } .csharpcode .lnum { color: #606060; } </style>\n\n6.&nbsp; Add Code to Reference Data Source\n\nOnce you have added your test data to the test method, you will want to access it within the body of your unit test method.&nbsp; This can be done by referencing the DataRow property of the TestContext class-level variable.&nbsp; I have created a simple test to use the values to assert that the Add method of a simple Calculator class works as shown below.&nbsp; Because a DataRow column returns an object, you will need to do some casting to the appropriate data types.\n\n[DeploymentItem(\"Demo.DataDrivenTests\\\\TestData.csv\"), DeploymentItem(\"TestData.csv\"), DataSource(\"Microsoft.VisualStudio.TestTools.DataSource.CSV\", \"|DataDirectory|\\\\TestData.csv\", \"TestData#csv\", DataAccessMethod.Sequential), TestMethod]public void Add_when_two_numbers_returns_proper_result(){//arrangevar operand1 = System.Convert.ToInt32(TestContext.DataRow[\"Operand1\"]);var operand2 = System.Convert.ToInt32(TestContext.DataRow[\"Operand2\"]);var sut = new Calculator();Â //actvar result = sut.Add(operand1, operand2);Â //assertvar expectedValue = System.Convert.ToInt32(TestContext.DataRow[\"ExpectedValue\"]);Assert.AreEqual(expectedValue, result);}\n<style type=\"text/css\">.csharpcode, .csharpcode pre { font-size: small; color: black; font-family: consolas, \"Courier New\", courier, monospace; background-color: #ffffff; /*white-space: pre;*/ } .csharpcode pre { margin: 0em; } .csharpcode .rem { color: #008000; } .csharpcode .kwrd { color: #0000ff; } .csharpcode .str { color: #006080; } .csharpcode .op { color: #0000c0; } .csharpcode .preproc { color: #cc6633; } .csharpcode .asp { background-color: #ffff00; } .csharpcode .html { color: #800000; } .csharpcode .attr { color: #ff0000; } .csharpcode .alt  { background-color: #f4f4f4; width: 100%; margin: 0em; } .csharpcode .lnum { color: #606060; } </style>\n\n7.&nbsp; Run the Test\n\nYou can run the test as you would any other in MS Test.&nbsp; The result will look similar to other tests.\n\n[![image](http://lh5.ggpht.com/_3gdMjuMkpX4/TVT-3y-dB4I/AAAAAAAAA00/MeZgM-V9xss/image_thumb%5B31%5D.png?imgmax=800 \"image\")](http://lh5.ggpht.com/_3gdMjuMkpX4/TVT-3nFWkrI/AAAAAAAAA0s/18Wy09qAbVE/s1600-h/image%5B53%5D.png)\n\nHowever, if you right-click on the result row in the Test Results pane, and select View Test Results Details as shown belowâ€¦\n\n[![image](http://lh3.ggpht.com/_3gdMjuMkpX4/TVT-4iyUv9I/AAAAAAAAA08/tAwOtIcCkKQ/image_thumb%5B33%5D.png?imgmax=800 \"image\")](http://lh3.ggpht.com/_3gdMjuMkpX4/TVT-4ZmlLHI/AAAAAAAAA04/Q0OADe9ZlyA/s1600-h/image%5B57%5D.png)\n\nâ€¦you will see the detail of the results to see which data combinations failed and why.\n\n[![image](http://lh5.ggpht.com/_3gdMjuMkpX4/TVT-5LvQ2II/AAAAAAAAA1E/PBHZDsuYhAU/image_thumb%5B36%5D.png?imgmax=800 \"image\")](http://lh3.ggpht.com/_3gdMjuMkpX4/TVT-4zuDzDI/AAAAAAAAA1A/E-62RPHM_sc/s1600-h/image%5B62%5D.png)\n\nHope this helps someone else out there.\n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"For my current client, I was looking for a way to create a data-driven unit test in MSTest.&nbsp; Basically, you can define a test once and then define a data source that provides multiple rows of data to be sent through the same test.&nbsp; That way, you donâ€™t have to write redundant tests.<br />I had done this previously, but I couldnâ€™t remember how it was done.&nbsp; Iâ€™m writing this post in order to remind myself and hopefully help someone out there.<br />1.&nbsp; Create a Test Method<br />The first step is to make sure you have a test method.&nbsp; You can do this by making sure that in your test project you have at least one class decorated with the [TestClass] attribute and a method with the [TestMethod] attribute.&nbsp; <br /><div class=\"csharpcode\"><pre class=\"alt\">[TestMethod]</pre><pre><span class=\"kwrd\">public</span> <span class=\"kwrd\">void</span> Add_when_two_numbers_returns_proper_result()</pre><pre class=\"alt\">{</pre><pre></pre><pre class=\"alt\">}</pre></div><br /><style type=\"text/css\">.csharpcode, .csharpcode pre { font-size: small; color: black; font-family: consolas, \"Courier New\", courier, monospace; background-color: #ffffff; /*white-space: pre;*/ } .csharpcode pre { margin: 0em; } .csharpcode .rem { color: #008000; } .csharpcode .kwrd { color: #0000ff; } .csharpcode .str { color: #006080; } .csharpcode .op { color: #0000c0; } .csharpcode .preproc { color: #cc6633; } .csharpcode .asp { background-color: #ffff00; } .csharpcode .html { color: #800000; } .csharpcode .attr { color: #ff0000; } .csharpcode .alt  { background-color: #f4f4f4; width: 100%; margin: 0em; } .csharpcode .lnum { color: #606060; } </style><br /><br />When creating this test class, make sure to keep the TestContext property as it is defaulted.&nbsp; You will be using this when coding your test.<br /><br /><br /><div class=\"csharpcode\"><pre class=\"alt\"><span class=\"kwrd\">private</span> TestContext _testContext;</pre><pre>&nbsp;</pre><pre class=\"alt\"><span class=\"rem\">/// &lt;summary&gt;</span></pre><pre><span class=\"rem\">///Gets or sets the test context which provides</span></pre><pre class=\"alt\"><span class=\"rem\">///information about and functionality for the current test run.</span></pre><pre><span class=\"rem\">///&lt;/summary&gt;</span></pre><pre class=\"alt\"><span class=\"kwrd\">public</span> TestContext TestContext</pre><pre>{</pre><pre class=\"alt\">get</pre><pre>{</pre><pre class=\"alt\"><span class=\"kwrd\">return</span> _testContext;</pre><pre>}</pre><pre class=\"alt\">set</pre><pre>{</pre><pre class=\"alt\">_testContext = <span class=\"kwrd\">value</span>;</pre><pre>}</pre><pre class=\"alt\">}</pre></div><br /><style type=\"text/css\">.csharpcode, .csharpcode pre { font-size: small; color: black; font-family: consolas, \"Courier New\", courier, monospace; background-color: #ffffff; /*white-space: pre;*/ } .csharpcode pre { margin: 0em; } .csharpcode .rem { color: #008000; } .csharpcode .kwrd { color: #0000ff; } .csharpcode .str { color: #006080; } .csharpcode .op { color: #0000c0; } .csharpcode .preproc { color: #cc6633; } .csharpcode .asp { background-color: #ffff00; } .csharpcode .html { color: #800000; } .csharpcode .attr { color: #ff0000; } .csharpcode .alt  { background-color: #f4f4f4; width: 100%; margin: 0em; } .csharpcode .lnum { color: #606060; } </style><br /><br />2.&nbsp; Add a Test Data File<br /><br />For the purposes of this explanation we will be using a simple .csv file (TestData.csv).&nbsp; Make sure to add a text file, preferably at the root of your project with that extension.&nbsp; In the file, you will want to add data.&nbsp; I have added three columns per row:&nbsp; Operand1, Operand2, and ExpectedValue which represents the expected result of adding the two operands together.&nbsp; You can add as many rows of data to check all of the boundary conditions that express your intentions for your unit test.<br /><br /><a href=\"http://lh3.ggpht.com/_3gdMjuMkpX4/TVT-x3LTJMI/AAAAAAAAAzs/7WSC_pfPJEg/s1600-h/image%5B66%5D.png\"><img alt=\"image\" border=\"0\" height=\"158\" src=\"http://lh4.ggpht.com/_3gdMjuMkpX4/TVT-yPYTFHI/AAAAAAAAAzw/C49cS0f4O6c/image_thumb%5B38%5D.png?imgmax=800\" style=\"background-image: none; border-bottom: 0px; border-left: 0px; border-right: 0px; border-top: 0px; display: inline; padding-left: 0px; padding-right: 0px; padding-top: 0px;\" title=\"image\" width=\"410\" /></a><br /><br />Right-click on the file and select Properties to set the Build Action to Content and the Copy to Output Directory to Copy Always as shown below.&nbsp; This will ensure that the file is copied to the Bin folder when running your unit tests.<br /><br /><a href=\"http://lh3.ggpht.com/_3gdMjuMkpX4/TVT-yc4ZdhI/AAAAAAAAAz0/ugITp5yT1YA/s1600-h/image%5B27%5D.png\"><img alt=\"image\" border=\"0\" height=\"266\" src=\"http://lh5.ggpht.com/_3gdMjuMkpX4/TVT-ygga9aI/AAAAAAAAAz4/yfNT0egZxMA/image_thumb%5B17%5D.png?imgmax=800\" style=\"background-image: none; border-bottom: 0px; border-left: 0px; border-right: 0px; border-top: 0px; display: inline; padding-left: 0px; padding-right: 0px; padding-top: 0px;\" title=\"image\" width=\"299\" /></a><br /><br />3.&nbsp; Open the Test View from the Test menu.<br /><br />From the Test menu, select the Windows â€“&gt; Test View option as shown below.<br /><br /><a href=\"http://lh6.ggpht.com/_3gdMjuMkpX4/TVT-zNBhbHI/AAAAAAAAAz8/TWJvdP7Q-yA/s1600-h/image%5B4%5D.png\"><img alt=\"image\" border=\"0\" height=\"345\" src=\"http://lh4.ggpht.com/_3gdMjuMkpX4/TVT-zrs5-RI/AAAAAAAAA0A/Zs2Z8rQOv8s/image_thumb%5B2%5D.png?imgmax=800\" style=\"background-image: none; border-bottom: 0px; border-left: 0px; border-right: 0px; border-top: 0px; display: inline; padding-left: 0px; padding-right: 0px; padding-top: 0px;\" title=\"image\" width=\"430\" /></a><br /><br />Once you open the Test View, you should see a list of the test methods that are available.&nbsp; When a test is highlighted, you will see the properties for that particular test in the Properties pane as shown below.&nbsp; <br /><br /><a href=\"http://lh3.ggpht.com/_3gdMjuMkpX4/TVT-0GECXTI/AAAAAAAAA0E/DK-UYStZ4c8/s1600-h/image%5B36%5D.png\"><img alt=\"image\" border=\"0\" height=\"725\" src=\"http://lh3.ggpht.com/_3gdMjuMkpX4/TVT-0ri4qkI/AAAAAAAAA0I/fgDlSDkWBqQ/image_thumb%5B22%5D.png?imgmax=800\" style=\"background-image: none; border-bottom: 0px; border-left: 0px; border-right: 0px; border-top: 0px; display: inline; padding-left: 0px; padding-right: 0px; padding-top: 0px;\" title=\"image\" width=\"386\" /></a><br /><br />4.&nbsp; Assign Test File as Test Data Source<br /><br />Find the row for Data Connection String in the Properties pane and click on the button to the far right with the ellipses (â€¦).&nbsp; That should open the following dialog where you will be presented with an option to set up a database, csv file, or xml file.<br /><br /><a href=\"http://lh6.ggpht.com/_3gdMjuMkpX4/TVT-02i6S0I/AAAAAAAAA0M/ZhwHZ_SQiuM/s1600-h/image%5B17%5D.png\"><img alt=\"image\" border=\"0\" height=\"356\" src=\"http://lh5.ggpht.com/_3gdMjuMkpX4/TVT-1Rd7OtI/AAAAAAAAA0Q/3Qo9Y4F573U/image_thumb%5B11%5D.png?imgmax=800\" style=\"background-image: none; border-bottom: 0px; border-left: 0px; border-right: 0px; border-top: 0px; display: inline; padding-left: 0px; padding-right: 0px; padding-top: 0px;\" title=\"image\" width=\"378\" /></a><br /><br />The database option should be self explanatory.&nbsp; It is like any other database connection, and the most popular option is to use a simple MS Access DB or SQL Express database that you can include with your project.<br /><br />The other two options are file based.&nbsp; The CSV file will be explained in further detail below.&nbsp; The main difference between a CSV and XML file is that you can have multiple test data sets in the XML file while only one set of data would be accessible for a CSV.&nbsp; So, if you need to set up data for multiple tests, you would need to maintain multiple files with the CSV option.&nbsp; In the XML option, you could just maintain one with multiple sections within the XML file.<br /><br />Select the CSV File option and click Next.<br /><br />5.&nbsp; Select Your CSV File<br /><br />At this point, you will be presented with a dialog to select a CSV file.&nbsp; Click on the (â€¦) button and select the location of the text file that you created for your test.<br /><br /><a href=\"http://lh6.ggpht.com/_3gdMjuMkpX4/TVT-1hsntAI/AAAAAAAAA0U/hbZuogtm908/s1600-h/image%5B40%5D.png\"><img alt=\"image\" border=\"0\" height=\"401\" src=\"http://lh4.ggpht.com/_3gdMjuMkpX4/TVT-2L1T9SI/AAAAAAAAA0Y/dFF5qvdcgnE/image_thumb%5B24%5D.png?imgmax=800\" style=\"background-image: none; border-bottom: 0px; border-left: 0px; border-right: 0px; border-top: 0px; display: inline; padding-left: 0px; padding-right: 0px; padding-top: 0px;\" title=\"image\" width=\"433\" /></a><br /><br />Once selected, the dialog will show the contents of your CSV file as a data grid to allow you to examine the contents to make sure that the data is what you were expecting.<br /><br /><a href=\"http://lh3.ggpht.com/_3gdMjuMkpX4/TVT-2W9liFI/AAAAAAAAA0c/-cQFninilUE/s1600-h/image%5B70%5D.png\"><img alt=\"image\" border=\"0\" height=\"381\" src=\"http://lh4.ggpht.com/_3gdMjuMkpX4/TVT-2mklPKI/AAAAAAAAA0g/cuPXtUb5_ck/image_thumb%5B40%5D.png?imgmax=800\" style=\"background-image: none; border-bottom: 0px; border-left: 0px; border-right: 0px; border-top: 0px; display: inline; padding-left: 0px; padding-right: 0px; padding-top: 0px;\" title=\"image\" width=\"413\" /></a><br /><br /><br /><br /><br /><br /><br /><br />Click the Finish button once you have confirmed the file contents.&nbsp; You will notice that the properties have been updated to reflect the change.<br /><br /><a href=\"http://lh5.ggpht.com/_3gdMjuMkpX4/TVT-29mBjJI/AAAAAAAAA0k/Em7c81PdO4U/s1600-h/image%5B49%5D.png\"><img alt=\"image\" border=\"0\" height=\"225\" src=\"http://lh3.ggpht.com/_3gdMjuMkpX4/TVT-3SpJdqI/AAAAAAAAA0o/M1uDhNr3aqE/image_thumb%5B29%5D.png?imgmax=800\" style=\"background-image: none; border-bottom: 0px; border-left: 0px; border-right: 0px; border-top: 0px; display: inline; padding-left: 0px; padding-right: 0px; padding-top: 0px;\" title=\"image\" width=\"430\" /></a><br /><br />In addition, Visual Studio will add a [DataSource] and [DeploymentItem] attributes to your original test method as shown below with the same information.&nbsp; In the future, you can set these attributes up on a test without needing to use the Properties wizard for selecting a Data Source.<br /><br /><div class=\"csharpcode\"><pre class=\"alt\">[DataSource(<span class=\"str\">\"Microsoft.VisualStudio.TestTools.DataSource.CSV\"</span>, <span class=\"str\">\"|DataDirectory|\\\\TestData.csv\"</span>, <span class=\"str\">\"TestData#csv\"</span>, DataAccessMethod.Sequential), DeploymentItem(<span class=\"str\">\"Demo.DataDrivenTests\\\\TestData.csv\"</span>), DeploymentItem(<span class=\"str\">\"TestData.csv\"</span>), TestMethod]</pre><pre><span class=\"kwrd\">public</span> <span class=\"kwrd\">void</span> Add_when_two_numbers_returns_proper_result()</pre><pre class=\"alt\">{</pre><pre></pre><pre class=\"alt\">}</pre></div><br /><style type=\"text/css\">.csharpcode, .csharpcode pre { font-size: small; color: black; font-family: consolas, \"Courier New\", courier, monospace; background-color: #ffffff; /*white-space: pre;*/ } .csharpcode pre { margin: 0em; } .csharpcode .rem { color: #008000; } .csharpcode .kwrd { color: #0000ff; } .csharpcode .str { color: #006080; } .csharpcode .op { color: #0000c0; } .csharpcode .preproc { color: #cc6633; } .csharpcode .asp { background-color: #ffff00; } .csharpcode .html { color: #800000; } .csharpcode .attr { color: #ff0000; } .csharpcode .alt  { background-color: #f4f4f4; width: 100%; margin: 0em; } .csharpcode .lnum { color: #606060; } </style><br /><br /><br />6.&nbsp; Add Code to Reference Data Source<br /><br />Once you have added your test data to the test method, you will want to access it within the body of your unit test method.&nbsp; This can be done by referencing the DataRow property of the TestContext class-level variable.&nbsp; I have created a simple test to use the values to assert that the Add method of a simple Calculator class works as shown below.&nbsp; Because a DataRow column returns an object, you will need to do some casting to the appropriate data types.<br /><br /><div class=\"csharpcode\"><pre class=\"alt\">[DeploymentItem(<span class=\"str\">\"Demo.DataDrivenTests\\\\TestData.csv\"</span>), DeploymentItem(<span class=\"str\">\"TestData.csv\"</span>), DataSource(<span class=\"str\">\"Microsoft.VisualStudio.TestTools.DataSource.CSV\"</span>, <span class=\"str\">\"|DataDirectory|\\\\TestData.csv\"</span>, <span class=\"str\">\"TestData#csv\"</span>, DataAccessMethod.Sequential), TestMethod]</pre><pre><span class=\"kwrd\">public</span> <span class=\"kwrd\">void</span> Add_when_two_numbers_returns_proper_result()</pre><pre class=\"alt\">{</pre><pre><span class=\"rem\">//arrange</span></pre><pre class=\"alt\">var operand1 = System.Convert.ToInt32(TestContext.DataRow[<span class=\"str\">\"Operand1\"</span>]);</pre><pre>var operand2 = System.Convert.ToInt32(TestContext.DataRow[<span class=\"str\">\"Operand2\"</span>]);</pre><pre class=\"alt\"></pre><pre>var sut = <span class=\"kwrd\">new</span> Calculator();</pre><pre class=\"alt\">&nbsp;</pre><pre><span class=\"rem\">//act</span></pre><pre class=\"alt\">var result = sut.Add(operand1, operand2);</pre><pre>&nbsp;</pre><pre class=\"alt\"><span class=\"rem\">//assert</span></pre><pre>var expectedValue = System.Convert.ToInt32(TestContext.DataRow[<span class=\"str\">\"ExpectedValue\"</span>]);</pre><pre class=\"alt\"></pre><pre>Assert.AreEqual(expectedValue, result);</pre><pre class=\"alt\">}</pre></div><br /><style type=\"text/css\">.csharpcode, .csharpcode pre { font-size: small; color: black; font-family: consolas, \"Courier New\", courier, monospace; background-color: #ffffff; /*white-space: pre;*/ } .csharpcode pre { margin: 0em; } .csharpcode .rem { color: #008000; } .csharpcode .kwrd { color: #0000ff; } .csharpcode .str { color: #006080; } .csharpcode .op { color: #0000c0; } .csharpcode .preproc { color: #cc6633; } .csharpcode .asp { background-color: #ffff00; } .csharpcode .html { color: #800000; } .csharpcode .attr { color: #ff0000; } .csharpcode .alt  { background-color: #f4f4f4; width: 100%; margin: 0em; } .csharpcode .lnum { color: #606060; } </style><br /><br />7.&nbsp; Run the Test<br /><br />You can run the test as you would any other in MS Test.&nbsp; The result will look similar to other tests.<br /><br /><a href=\"http://lh5.ggpht.com/_3gdMjuMkpX4/TVT-3nFWkrI/AAAAAAAAA0s/18Wy09qAbVE/s1600-h/image%5B53%5D.png\"><img alt=\"image\" border=\"0\" height=\"128\" src=\"http://lh5.ggpht.com/_3gdMjuMkpX4/TVT-3y-dB4I/AAAAAAAAA00/MeZgM-V9xss/image_thumb%5B31%5D.png?imgmax=800\" style=\"background-image: none; border-bottom: 0px; border-left: 0px; border-right: 0px; border-top: 0px; display: inline; padding-left: 0px; padding-right: 0px; padding-top: 0px;\" title=\"image\" width=\"380\" /></a><br /><br />However, if you right-click on the result row in the Test Results pane, and select View Test Results Details as shown belowâ€¦<br /><br /><a href=\"http://lh3.ggpht.com/_3gdMjuMkpX4/TVT-4ZmlLHI/AAAAAAAAA04/Q0OADe9ZlyA/s1600-h/image%5B57%5D.png\"><img alt=\"image\" border=\"0\" height=\"242\" src=\"http://lh3.ggpht.com/_3gdMjuMkpX4/TVT-4iyUv9I/AAAAAAAAA08/tAwOtIcCkKQ/image_thumb%5B33%5D.png?imgmax=800\" style=\"background-image: none; border-bottom: 0px; border-left: 0px; border-right: 0px; border-top: 0px; display: inline; padding-left: 0px; padding-right: 0px; padding-top: 0px;\" title=\"image\" width=\"356\" /></a><br /><br /><br /><br /><br />â€¦you will see the detail of the results to see which data combinations failed and why.<br /><br /><a href=\"http://lh3.ggpht.com/_3gdMjuMkpX4/TVT-4zuDzDI/AAAAAAAAA1A/E-62RPHM_sc/s1600-h/image%5B62%5D.png\"><img alt=\"image\" border=\"0\" height=\"238\" src=\"http://lh5.ggpht.com/_3gdMjuMkpX4/TVT-5LvQ2II/AAAAAAAAA1E/PBHZDsuYhAU/image_thumb%5B36%5D.png?imgmax=800\" style=\"background-image: none; border-bottom: 0px; border-left: 0px; border-right: 0px; border-top: 0px; display: inline; padding-left: 0px; padding-right: 0px; padding-top: 0px;\" title=\"image\" width=\"397\" /></a><br /><br />Hope this helps someone else out there.<br /><div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1297415880003,"created_by":1,"updated_at":1325535938329,"updated_by":1,"published_at":1297415880003,"published_by":1},{"id":8,"title":"Create Custom Test Category Attributes in Visual Studio","slug":"create_custom_test_category_attributes_in_visual_studio","markdown":"In the past, for each class library project we create in Visual Studio, we have maintained separate unit test and integration test projects.&nbsp; This has allowed us to easily configure continuous integration with TFS to run a given projectâ€™s unit tests on check-in and run the full suite of unit and integration tests on a nightly build.\nWith the introduction of Visual Studio 2010, build types now can filter tests based on test categories.&nbsp;\n\nFor example, I can categorize a given test as a unit test by doing the following:\n\n&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;[TestClass]     Â Â Â  public class Test      Â Â Â  {      Â Â Â Â Â Â Â  [TestMethod]      Â Â Â Â Â Â Â  [TestCategory(\"UnitTest\")]      Â Â Â Â Â Â Â  public void IsValid_returns_false_when_quantity_large()      Â Â Â Â Â Â Â  {      Â Â Â Â Â Â Â  }      Â Â Â  }\n\nThis allows us to consolidate all tests into one project and distinguish by categories.&nbsp; The only issue is that these categories are based on strings that the developer must type, and this can create inconsistencies using magic strings which may not be noticed during the course of development.\n\nIn order to get around this, another option is to create your own custom test category attributes that return the proper string.&nbsp; Microsoft has provided a base class, TestCategoryBaseAttribute for this very purpose.\n\n&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;public class UnitTestAttribute : TestCategoryBaseAttribute     Â Â Â  {      Â Â Â Â Â Â Â  public UnitTestAttribute()      Â Â Â Â Â Â Â  {} \nÂ Â Â Â Â Â Â  public override IList<string> TestCategories     Â Â Â Â Â Â Â  {      Â Â Â Â Â Â Â Â Â Â Â  get { return new List<string> {\"UnitTest\"}; }      Â Â Â Â Â Â Â  }      Â Â Â  }</string></string>\n\nBy overriding the TestCategories property, you can return the appropriate string(s) that represent this classification.&nbsp; In this case, we are returning the same string that the previous test category provided.\n\nIn order to use this attribute, you merely need to add it to a given test method like so.\n\n&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;[TestClass]     Â Â Â  public class Test      Â Â Â  {      Â Â Â Â Â Â Â  [TestMethod]      Â Â Â Â Â Â Â  [UnitTest]      Â Â Â Â Â Â Â  public void IsValid_returns_false_when_quantity_large()      Â Â Â Â Â Â Â  {      Â Â Â Â Â Â Â  }      Â Â Â  }\n\nWith this kind of flexibility, if you had a limited list of attributes that you wanted to provide to developers, you could also create an enum type and pass that into the constructor of the custom test category attribute.&nbsp; \n\nJust create an enum type.\n\n&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;public enum Category : int     Â Â Â  {      Â Â Â Â Â Â Â  UnitTest = 0,      Â Â Â Â Â Â Â  IntegrationTest = 1      Â Â Â  }\n\nThen, create the attribute using the enum as a constructor parameter.\n\n&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; public class TestCategoryAttribute : TestCategoryBaseAttribute     Â Â Â  {      Â Â Â Â Â Â Â  private TestCategory _category; \n\nÂ Â  Â  Â  Â public TestCategoryAttribute(TestCategory category)     Â Â Â Â Â Â Â  {      Â Â Â Â Â Â Â Â Â Â Â  _category = category;      Â Â Â Â Â Â Â  } \n\nÂ Â  Â  Â  Â public override IList<string> TestCategories     Â Â Â Â Â Â Â  {      Â Â Â Â Â Â Â Â Â Â Â  get      Â Â Â Â Â Â Â Â Â Â Â  {      Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  var value = Enum.GetName(typeof (TestCategory), _category);      Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  return new List<string>{ value };      Â Â Â Â Â Â Â Â Â Â Â  }      Â Â Â Â Â Â Â  }      Â Â Â  }</string></string>\n\nTo use the new attribute, you would do the following.\n\n&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;[TestClass]     Â Â Â  public class Test      Â Â Â  {      Â Â Â Â Â Â Â  [TestMethod]      Â Â Â Â Â Â Â  [TestCategory(Category.UnitTest)]      Â Â Â Â Â Â Â  public void IsValid_returns_false_when_quantity_large()      Â Â Â Â Â Â Â  {      Â Â Â Â Â Â Â  }      Â Â Â  }\n\nHope this helps!\n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"In the past, for each class library project we create in Visual Studio, we have maintained separate unit test and integration test projects.&nbsp; This has allowed us to easily configure continuous integration with TFS to run a given projectâ€™s unit tests on check-in and run the full suite of unit and integration tests on a nightly build.<br />With the introduction of Visual Studio 2010, build types now can filter tests based on test categories.&nbsp;<br /><br />For example, I can categorize a given test as a unit test by doing the following:<br /><br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;<span style=\"font-family: COnsolas;\">[TestClass]     <br />&nbsp;&nbsp;&nbsp; public class Test      <br />&nbsp;&nbsp;&nbsp; {      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [TestMethod]      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [TestCategory(\"UnitTest\")]      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void IsValid_returns_false_when_quantity_large()      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }      <br />&nbsp;&nbsp;&nbsp; }</span><br /><span style=\"font-family: COnsolas;\"><br /></span><br />This allows us to consolidate all tests into one project and distinguish by categories.&nbsp; The only issue is that these categories are based on strings that the developer must type, and this can create inconsistencies using magic strings which may not be noticed during the course of development.<br /><br />In order to get around this, another option is to create your own custom test category attributes that return the proper string.&nbsp; Microsoft has provided a base class, TestCategoryBaseAttribute for this very purpose.<br /><br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style=\"font-family: Consolas;\">public class UnitTestAttribute : TestCategoryBaseAttribute     <br />&nbsp;&nbsp;&nbsp; {      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public UnitTestAttribute()      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {} </span><br /><span style=\"font-family: Consolas;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public override IList&lt;string&gt; TestCategories     <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; get { return new List&lt;string&gt; {\"UnitTest\"}; }      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }      <br />&nbsp;&nbsp;&nbsp; }</span><br /><br />By overriding the TestCategories property, you can return the appropriate string(s) that represent this classification.&nbsp; In this case, we are returning the same string that the previous test category provided.<br /><br />In order to use this attribute, you merely need to add it to a given test method like so.<br /><br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;<span style=\"font-family: Consolas;\">[TestClass]     <br />&nbsp;&nbsp;&nbsp; public class Test      <br />&nbsp;&nbsp;&nbsp; {      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [TestMethod]      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [UnitTest]      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void IsValid_returns_false_when_quantity_large()      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }      <br />&nbsp;&nbsp;&nbsp; }</span><br /><br />With this kind of flexibility, if you had a limited list of attributes that you wanted to provide to developers, you could also create an enum type and pass that into the constructor of the custom test category attribute.&nbsp; <br /><br />Just create an enum type.<br /><br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style=\"font-family: Consolas;\">public enum Category : int     <br />&nbsp;&nbsp;&nbsp; {      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UnitTest = 0,      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IntegrationTest = 1      <br />&nbsp;&nbsp;&nbsp; }</span><br /><br />Then, create the attribute using the enum as a constructor parameter.<br /><br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-family: Consolas;\">public class TestCategoryAttribute </span><span style=\"font-family: Consolas;\">: TestCategoryBaseAttribute     <br />&nbsp;&nbsp;&nbsp; {      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; private TestCategory _category; </span><br /><span style=\"font-family: Consolas;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br /><span style=\"font-family: Consolas;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;public TestCategoryAttribute(TestCategory category)     <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _category = category;      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } </span><br /><span style=\"font-family: Consolas;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br /><span style=\"font-family: Consolas;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;public override IList&lt;string&gt; TestCategories     <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; get      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var value = Enum.GetName(typeof (TestCategory), _category);      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return new List&lt;string&gt;{ value };      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }      <br />&nbsp;&nbsp;&nbsp; }</span><br /><span style=\"font-family: Consolas;\"><br /></span><br />To use the new attribute, you would do the following.<br /><br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;<span style=\"font-family: Consolas;\">[TestClass]     <br />&nbsp;&nbsp;&nbsp; public class Test      <br />&nbsp;&nbsp;&nbsp; {      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [TestMethod]      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [TestCategory(Category.UnitTest)]      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void IsValid_returns_false_when_quantity_large()      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {      <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }      <br />&nbsp;&nbsp;&nbsp; }</span><br /><br />Hope this helps!<br /><div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1285904100003,"created_by":1,"updated_at":1325535970430,"updated_by":1,"published_at":1285904100003,"published_by":1},{"id":9,"title":"Six Interview Questions for Agile Teams","slug":"six_interview_questions_for_agile_teams","markdown":"I was reading through my blogs tonight and came across [one](http://www.stickyminds.com/sitewide.asp?Function=edetail&amp;ObjectType=COL&amp;ObjectId=16277&amp;tth=DYN&amp;tt=siteemail&amp;iDyn=2) that did a nice job of explaining the qualities that an agile team member should possess.&nbsp; In addition, the writer included a good behavioral interview question for each.\nI briefly share each below, but I highly recommend reading the [original article](http://www.stickyminds.com/sitewide.asp?Function=edetail&amp;ObjectType=COL&amp;ObjectId=16277&amp;tth=DYN&amp;tt=siteemail&amp;iDyn=2).\n1\\. <u>People Who Collaborate</u>\n_\"Think back to a recent project. Give me an example of a time you had to work with other people to make sure that you could finish something. What happened?\"_ \n2\\. <u>People Who Ask for Help</u>\n_\"Think back to your most recent project. Tell me about a time you did not understand something. What did you do?\" _\n3\\. <u>People Who are Willing to Take Small Steps and Get Feedback</u>\n_\"When you work on your projects outside of work, how do you work?\"_ \n4\\. <u>People Who are Willing To Do Something That is Good Enough for Now</u>\n_\"Tell me about a recent time you did not know everything at the beginning of the project. What did you do?\"_ \n5\\. <u>Adaptable People</u>\n_\"Tell me about a time when you did not have the conditions you would've liked for your project. What did you do?\"_ \n6\\. <u>People Willing to Work Outside Their Expertise</u>\n_\"Tell me about a time you took on work to help the team. What was that like?\"_ \nSo, tell me dear Reader â€“ what questions do you ask when interviewing candidates for an agile-oriented team?\n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"I was reading through my blogs tonight and came across <a href=\"http://www.stickyminds.com/sitewide.asp?Function=edetail&amp;ObjectType=COL&amp;ObjectId=16277&amp;tth=DYN&amp;tt=siteemail&amp;iDyn=2\" target=\"_blank\">one</a> that did a nice job of explaining the qualities that an agile team member should possess.&nbsp; In addition, the writer included a good behavioral interview question for each.<br />I briefly share each below, but I highly recommend reading the <a href=\"http://www.stickyminds.com/sitewide.asp?Function=edetail&amp;ObjectType=COL&amp;ObjectId=16277&amp;tth=DYN&amp;tt=siteemail&amp;iDyn=2\" target=\"_blank\">original article</a>.<br />1. <u>People Who Collaborate</u><br /><em>\"Think back to a recent project. Give me an example of a time you had to work with other people to make sure that you could finish something. What happened?\"</em> <br />2. <u>People Who Ask for Help</u><br /><em>\"Think back to your most recent project. Tell me about a time you did not understand something. What did you do?\" </em><br />3. <u>People Who are Willing to Take Small Steps and Get Feedback</u><br /><em>\"When you work on your projects outside of work, how do you work?\"</em> <br />4. <u>People Who are Willing To Do Something That is Good Enough for Now</u><br /><em>\"Tell me about a recent time you did not know everything at the beginning of the project. What did you do?\"</em> <br />5. <u>Adaptable People</u><br /><em>\"Tell me about a time when you did not have the conditions you would've liked for your project. What did you do?\"</em> <br />6. <u>People Willing to Work Outside Their Expertise</u><br /><em>\"Tell me about a time you took on work to help the team. What was that like?\"</em> <br />So, tell me dear Reader â€“ what questions do you ask when interviewing candidates for an agile-oriented team?<br /><br /><div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1282620060001,"created_by":1,"updated_at":1325535981841,"updated_by":1,"published_at":1282620060001,"published_by":1},{"id":10,"title":"Motivations","slug":"motivations","markdown":"I found this [video](http://lifehacker.com/5550373/the-surprising-realities-behind-what-motivates-us-in-illustrated-form)&nbsp;about what motivates people to be very refreshing. &nbsp;Basically, if the tasks that people are working on require more than a basic physical action, money rewards don't motivate, but rather demotivate people. &nbsp;What really motivates others to perform well at conceptual tasks are three things: &nbsp;autonomy, self mastery, and purpose. &nbsp;What I find is that Agile practices tend to foster or work within these motivations. &nbsp;For example, user stories really help to zero in on the purpose for a given feature request. Â \"As a [actor], I can [do something], so that I can [accomplish a goal].\" Â Developers really get a sense for why they are building a piece of functionality rather than just focusing on building a method, etc. Â And the prioritization of these stories helps to clarify what is truly important within a sprint.As well, agile practices promote mastery by emphasizing continual improvement. Â Teams are encouraged to use the processes that work for an individual team rather than trying to create a process that will work for an entire organization. Â Other principles such as refactoring and unit testing also suggest an intense focus on continually improving the code base.And finally, the scrum meeting and agile planning in general focus on the team working together on deciding the priorities rather than having a central authority such as a PM do that. Â Individuals make themselves accountable to the team by explaining what they accomplished yesterday and what they plan to accomplish for the current day. Â This creates a sense of autonomy in those performing the work.I would be interested to hear your thoughts on the video as well as whether or not you agree that agile practices help to foster these motivations.Â \n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"I found this <a href=\"http://lifehacker.com/5550373/the-surprising-realities-behind-what-motivates-us-in-illustrated-form\">video</a>&nbsp;about what motivates people to be very refreshing. &nbsp;Basically, if the tasks that people are working on require more than a basic physical action, money rewards don't motivate, but rather demotivate people. &nbsp;What really motivates others to perform well at conceptual tasks are three things: &nbsp;autonomy, self mastery, and purpose. &nbsp;What I find is that Agile practices tend to foster or work within these motivations. &nbsp;<div><br /></div><div>For example, user stories really help to zero in on the purpose for a given feature request. &nbsp;\"As a [actor], I can [do something], so that I can [accomplish a goal].\" &nbsp;Developers really get a sense for why they are building a piece of functionality rather than just focusing on building a method, etc. &nbsp;And the prioritization of these stories helps to clarify what is truly important within a sprint.</div><div><br /></div><div>As well, agile practices promote mastery by emphasizing continual improvement. &nbsp;Teams are encouraged to use the processes that work for an individual team rather than trying to create a process that will work for an entire organization. &nbsp;Other principles such as refactoring and unit testing also suggest an intense focus on continually improving the code base.</div><div><br /></div><div>And finally, the scrum meeting and agile planning in general focus on the team working together on deciding the priorities rather than having a central authority such as a PM do that. &nbsp;Individuals make themselves accountable to the team by explaining what they accomplished yesterday and what they plan to accomplish for the current day. &nbsp;This creates a sense of autonomy in those performing the work.</div><div><br /></div><div>I would be interested to hear your thoughts on the video as well as whether or not you agree that agile practices help to foster these motivations.&nbsp;</div><div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1275136200000,"created_by":1,"updated_at":1325536013488,"updated_by":1,"published_at":1275136200000,"published_by":1},{"id":11,"title":"Rick Warren Speaks on Meet the Press - Giving","slug":"rick_warren_speaks_on_meet_the_press_giving","markdown":"I really enjoyed seeing Rick Warren, the pastor of Saddleback Church in California, speak on giving on Meet the Press with David Gregory.  (below)And what influence he has - not just because he has a platform on national television, but because he actually gives 90% of his income.  He has the authority to speak on this subject!Visit msnbc.com for Breaking News, World News, and News about the Economy\n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"I really enjoyed seeing Rick Warren, the pastor of Saddleback Church in California, speak on giving on Meet the Press with David Gregory.  (below)<div><br /></div><div>And what influence he has - not just because he has a platform on national television, but because he actually gives 90% of his income.  He has the authority to speak on this subject!<br /><br /><div><iframe height=\"339\" width=\"425\" src=\"http://www.msnbc.msn.com/id/22425001/vp/34193069#34193069\" frameborder=\"0\" scrolling=\"no\"></iframe><p style=\"font-size:11px; font-family:Arial, Helvetica, sans-serif; color: #999; margin-top: 5px; background: transparent; text-align: center; width: 425px;\">Visit msnbc.com for <a style=\"text-decoration:none !important; border-bottom: 1px dotted #999 !important; font-weight:normal !important; height: 13px; color:#5799DB !important;\" href=\"http://www.msnbc.msn.com/\">Breaking News</a>, <a href=\"http://www.msnbc.msn.com/id/3032507\" style=\"text-decoration:none !important; border-bottom: 1px dotted #999 !important; font-weight:normal !important; height: 13px; color:#5799DB !important;\">World News</a>, and <a href=\"http://www.msnbc.msn.com/id/3032072\" style=\"text-decoration:none !important; border-bottom: 1px dotted #999 !important; font-weight:normal !important; height: 13px; color:#5799DB !important;\">News about the Economy</a></p></div></div><div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1259531220003,"created_by":1,"updated_at":1259531554322,"updated_by":1,"published_at":1259531220003,"published_by":1},{"id":12,"title":"Static Code Analysis - Part 2","slug":"static_code_analysis_part_2","markdown":"In my last post, I showed how you could enable static code analysis for a visual studio project.&#160; However, you can also set up static code analysis at a more global level if you are using Team Foundation Server for source code control.\n\nWithin a Team Project, you can set up a check-in policy that requires the code to pass static code analysis.&#160; You can do this by simply right-clicking on the Team Project and selecting Source Control from the Team Project Settings.\n\n[![image](http://lh3.ggpht.com/_3gdMjuMkpX4/SqIZNhxKznI/AAAAAAAAAmM/H0BLv7TKq1I/image_thumb%5B1%5D.png)](http://lh4.ggpht.com/_3gdMjuMkpX4/SqIZNW0UXWI/AAAAAAAAAmI/XzARg-NQ7Q0/image%5B3%5D.png)\n\nFrom the Source Control Settings dialog, click on the Check-In Policy tab. and click the Add... button.&#160; (Note - I already have the Code Analysis policy set for my project in the image below.)\n\n[![image](http://lh5.ggpht.com/_3gdMjuMkpX4/SqIZOSj9_JI/AAAAAAAAAmU/1UBK7rL6ke0/image_thumb%5B3%5D.png)](http://lh5.ggpht.com/_3gdMjuMkpX4/SqIZNy0T5bI/AAAAAAAAAmQ/Qrj9KtnOxkQ/image%5B7%5D.png)&#160; \n\nClick the Add... button to add a new check-in policy and select Code Analysis from the menu.\n\n[![image](http://lh6.ggpht.com/_3gdMjuMkpX4/SqIZOxVkH-I/AAAAAAAAAmc/cdpbrXsopDs/image_thumb%5B5%5D.png)](http://lh5.ggpht.com/_3gdMjuMkpX4/SqIZOvSsQaI/AAAAAAAAAmY/ktC3xVC_o0A/image%5B11%5D.png) \n\nFrom here, you should be able set up the rules just as you would at the project level.&#160; Any rules you specify should generate an error when violated, and therefore, the code will not compile.&#160; As a result, the developers will not be able to check-in code that violates any of the rules that you have set for the team.\n\n[![image](http://lh5.ggpht.com/_3gdMjuMkpX4/SqIZPv40z3I/AAAAAAAAAmk/JocvvpOkzR8/image_thumb%5B7%5D.png)](http://lh4.ggpht.com/_3gdMjuMkpX4/SqIZPcIQktI/AAAAAAAAAmg/jUugWSfxMIU/image%5B15%5D.png) \n\nSo, if you have already set up rules within your projects, another nice feature in Visual Studio is the ability to synch up your settings in each project with those set at the check-in policy level.&#160; You can do this by selecting the Replace with Check-in Policy under Analyze/Code Analysis Settings for Solution in Visual Studio.\n\n[![image](http://lh6.ggpht.com/_3gdMjuMkpX4/SqIZQqyd5lI/AAAAAAAAAms/9Bdog0L82FU/image_thumb%5B9%5D.png)](http://lh6.ggpht.com/_3gdMjuMkpX4/SqIZQOpfkeI/AAAAAAAAAmo/KmCglaxjHe0/image%5B19%5D.png) \n\nAll of the settings in your current projects will match those set at the Team Project level.&#160; None of your previous suppressions attributes should have been removed.\n\nHope this helps!\n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"<p>In my last post, I showed how you could enable static code analysis for a visual studio project.&#160; However, you can also set up static code analysis at a more global level if you are using Team Foundation Server for source code control.</p>  <p>Within a Team Project, you can set up a check-in policy that requires the code to pass static code analysis.&#160; You can do this by simply right-clicking on the Team Project and selecting Source Control from the Team Project Settings.</p>  <p><a href=\"http://lh4.ggpht.com/_3gdMjuMkpX4/SqIZNW0UXWI/AAAAAAAAAmI/XzARg-NQ7Q0/image%5B3%5D.png\"><img style=\"border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px\" height=\"232\" alt=\"image\" src=\"http://lh3.ggpht.com/_3gdMjuMkpX4/SqIZNhxKznI/AAAAAAAAAmM/H0BLv7TKq1I/image_thumb%5B1%5D.png\" width=\"370\" border=\"0\" /></a></p>  <p>From the Source Control Settings dialog, click on the Check-In Policy tab. and click the Add... button.&#160; (Note - I already have the Code Analysis policy set for my project in the image below.)</p>  <p><a href=\"http://lh5.ggpht.com/_3gdMjuMkpX4/SqIZNy0T5bI/AAAAAAAAAmQ/Qrj9KtnOxkQ/image%5B7%5D.png\"><img style=\"border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px\" height=\"167\" alt=\"image\" src=\"http://lh5.ggpht.com/_3gdMjuMkpX4/SqIZOSj9_JI/AAAAAAAAAmU/1UBK7rL6ke0/image_thumb%5B3%5D.png\" width=\"395\" border=\"0\" /></a>&#160; </p>  <p>Click the Add... button to add a new check-in policy and select Code Analysis from the menu.</p>  <p><a href=\"http://lh5.ggpht.com/_3gdMjuMkpX4/SqIZOvSsQaI/AAAAAAAAAmY/ktC3xVC_o0A/image%5B11%5D.png\"><img style=\"border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px\" height=\"228\" alt=\"image\" src=\"http://lh6.ggpht.com/_3gdMjuMkpX4/SqIZOxVkH-I/AAAAAAAAAmc/cdpbrXsopDs/image_thumb%5B5%5D.png\" width=\"334\" border=\"0\" /></a> </p>  <p>From here, you should be able set up the rules just as you would at the project level.&#160; Any rules you specify should generate an error when violated, and therefore, the code will not compile.&#160; As a result, the developers will not be able to check-in code that violates any of the rules that you have set for the team.</p>  <p><a href=\"http://lh4.ggpht.com/_3gdMjuMkpX4/SqIZPcIQktI/AAAAAAAAAmg/jUugWSfxMIU/image%5B15%5D.png\"><img style=\"border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px\" height=\"352\" alt=\"image\" src=\"http://lh5.ggpht.com/_3gdMjuMkpX4/SqIZPv40z3I/AAAAAAAAAmk/JocvvpOkzR8/image_thumb%5B7%5D.png\" width=\"308\" border=\"0\" /></a> </p>  <p>So, if you have already set up rules within your projects, another nice feature in Visual Studio is the ability to synch up your settings in each project with those set at the check-in policy level.&#160; You can do this by selecting the Replace with Check-in Policy under Analyze/Code Analysis Settings for Solution in Visual Studio.</p>  <p><a href=\"http://lh6.ggpht.com/_3gdMjuMkpX4/SqIZQOpfkeI/AAAAAAAAAmo/KmCglaxjHe0/image%5B19%5D.png\"><img style=\"border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px\" height=\"167\" alt=\"image\" src=\"http://lh6.ggpht.com/_3gdMjuMkpX4/SqIZQqyd5lI/AAAAAAAAAms/9Bdog0L82FU/image_thumb%5B9%5D.png\" width=\"370\" border=\"0\" /></a> </p>  <p>All of the settings in your current projects will match those set at the Team Project level.&#160; None of your previous suppressions attributes should have been removed.</p>  <p>Hope this helps!</p>  <div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1252137240001,"created_by":1,"updated_at":1252137284054,"updated_by":1,"published_at":1252137240001,"published_by":1},{"id":13,"title":"Static Code Analysis - Part 1","slug":"static_code_analysis_part_1","markdown":"The static code analysis within Visual Studio is a great way of automating initial code review.&#160; In order to turn it on do the following.\n\n1.&#160; Go to Properties within the particular project.\n\nCode analysis can only be enabled at the project level, so the first step is to go to your properties section of each project you want enabled for code analysis.\n\n2.&#160; Go to the Code Analysis tab.\n\n3.&#160; At the top, check the box that &quot;Enable Code Analysis on Build...&quot;\n\n4.&#160; On the right-hand side of the screen, check the box for those rules that you want treated as an error.&#160; (By default it is treated as a warning and will not stop the build process.)\n\n[![image](http://lh5.ggpht.com/_3gdMjuMkpX4/SqIRxf4lfBI/AAAAAAAAAl8/CvP9kj--zmg/image_thumb%5B5%5D.png)](http://lh4.ggpht.com/_3gdMjuMkpX4/SqIRxDkZilI/AAAAAAAAAl4/PiJvgFwRJHU/image%5B9%5D.png) \n\nSometimes the rules may not make sense for projects where a lot of code is auto-generated.&#160; In this case, you could leave that rule as a warning in the project settings.&#160; \n\nIn other cases, you may want to suppress the errors for particular members of your types or for whole namespaces.&#160; This can be done by right-clicking on the rule violation in the Error List that appears when compiling your project and selecting a Suppress Message option.\n\n[![image](http://lh6.ggpht.com/_3gdMjuMkpX4/SqIRySX-ryI/AAAAAAAAAmE/vI8gQLZXIxM/image_thumb%5B3%5D.png)](http://lh4.ggpht.com/_3gdMjuMkpX4/SqIRxz6OWRI/AAAAAAAAAmA/DpvHLcCOoOo/image%5B5%5D.png)\n\nAs seen above, this can either be set within your source or in a project suppression file.&#160; You can learn more about this [here](http://blogs.msdn.com/fxcop/archive/2006/12/28/FAQ-What-is-the-GlobalSuppressions.cs-GlobalSuppressions.vb-file-and-why-is-it-needed-Is-it-possible-to-change-the-name-of-this-file-David-Kean.aspx). \n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"<p>The static code analysis within Visual Studio is a great way of automating initial code review.&#160; In order to turn it on do the following.</p>  <p>1.&#160; Go to Properties within the particular project.</p>  <p>Code analysis can only be enabled at the project level, so the first step is to go to your properties section of each project you want enabled for code analysis.</p>  <p>2.&#160; Go to the Code Analysis tab.</p>  <p>3.&#160; At the top, check the box that &quot;Enable Code Analysis on Build...&quot;</p>  <p>4.&#160; On the right-hand side of the screen, check the box for those rules that you want treated as an error.&#160; (By default it is treated as a warning and will not stop the build process.)</p>  <p><a href=\"http://lh4.ggpht.com/_3gdMjuMkpX4/SqIRxDkZilI/AAAAAAAAAl4/PiJvgFwRJHU/image%5B9%5D.png\"><img style=\"border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px\" height=\"137\" alt=\"image\" src=\"http://lh5.ggpht.com/_3gdMjuMkpX4/SqIRxf4lfBI/AAAAAAAAAl8/CvP9kj--zmg/image_thumb%5B5%5D.png\" width=\"464\" border=\"0\" /></a> </p>  <p>Sometimes the rules may not make sense for projects where a lot of code is auto-generated.&#160; In this case, you could leave that rule as a warning in the project settings.&#160; </p>  <p>In other cases, you may want to suppress the errors for particular members of your types or for whole namespaces.&#160; This can be done by right-clicking on the rule violation in the Error List that appears when compiling your project and selecting a Suppress Message option.</p>  <p><a href=\"http://lh4.ggpht.com/_3gdMjuMkpX4/SqIRxz6OWRI/AAAAAAAAAmA/DpvHLcCOoOo/image%5B5%5D.png\"><img style=\"border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px\" height=\"237\" alt=\"image\" src=\"http://lh6.ggpht.com/_3gdMjuMkpX4/SqIRySX-ryI/AAAAAAAAAmE/vI8gQLZXIxM/image_thumb%5B3%5D.png\" width=\"452\" border=\"0\" /></a></p>  <p>As seen above, this can either be set within your source or in a project suppression file.&#160; You can learn more about this <a href=\"http://blogs.msdn.com/fxcop/archive/2006/12/28/FAQ-What-is-the-GlobalSuppressions.cs-GlobalSuppressions.vb-file-and-why-is-it-needed-Is-it-possible-to-change-the-name-of-this-file-David-Kean.aspx\">here</a>. </p>  <div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1252135320001,"created_by":1,"updated_at":1252136390578,"updated_by":1,"published_at":1252135320001,"published_by":1},{"id":14,"title":"JSON Serialization in .NET","slug":"json_serialization_in_net","markdown":"Many of you may be familiar with the use of JSON (JavaScript Object Notation).  It is a very tight syntax for expressing the state of an object and is very widely used in Web 2.0/AJAX style development in which objects are passed back and forth between the client using the XmlHttpRequest object out of band to eliminate the need to do a full page refresh.\n\nI found a great article by Rick Strahl that outlines the pros/cons of two built-in .NET serializers:  JavaScriptSerializer and DataContractJsonSerializer.  You can read about them [here](http://west-wind.net/Weblog/ShowPost.aspx?id=442969).\n\nAfter using both methods in my own application, I found that another con of the JavaScriptSerializer that is a pro for the DataContractJsonSerializer class is that it requires a public default, parameter-less constructor.  This means that I cannot serialize objects that I also would like to make read-only, and therefore, requires a constructor with the properties defined up front.\n\nOne point I wanted to make in this post was that the extension class that Rick defines in his post for simplifying DataContractJsonSerializer usage does not work properly.  In order to correct it, I added the 'this' keyword to the first parameter so that .NET recognized the static methods as extensions to the object type.  In addition, I converted the FromJsonString() method to a generic FromJsonString&lt;T&gt;() method to allow the return object to be strongly typed.  \n\nCode is listed below, if you are interested.\n [![image](http://lh6.ggpht.com/_3gdMjuMkpX4/Sei5AKv5p2I/AAAAAAAAAis/-hHQ4bY55IM/image_thumb%5B10%5D.png)](http://lh3.ggpht.com/_3gdMjuMkpX4/Sei4_iG8_8I/AAAAAAAAAio/aR2w9YY3VZ4/image%5B12%5D.png)\n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"<p>Many of you may be familiar with the use of JSON (JavaScript Object Notation).  It is a very tight syntax for expressing the state of an object and is very widely used in Web 2.0/AJAX style development in which objects are passed back and forth between the client using the XmlHttpRequest object out of band to eliminate the need to do a full page refresh.</p>  <p>I found a great article by Rick Strahl that outlines the pros/cons of two built-in .NET serializers:  JavaScriptSerializer and DataContractJsonSerializer.  You can read about them <a href=\"http://west-wind.net/Weblog/ShowPost.aspx?id=442969\" target=\"_blank\">here</a>.</p>  <p>After using both methods in my own application, I found that another con of the JavaScriptSerializer that is a pro for the DataContractJsonSerializer class is that it requires a public default, parameter-less constructor.  This means that I cannot serialize objects that I also would like to make read-only, and therefore, requires a constructor with the properties defined up front.</p>  <p>One point I wanted to make in this post was that the extension class that Rick defines in his post for simplifying DataContractJsonSerializer usage does not work properly.  In order to correct it, I added the 'this' keyword to the first parameter so that .NET recognized the static methods as extensions to the object type.  In addition, I converted the FromJsonString() method to a generic FromJsonString&lt;T&gt;() method to allow the return object to be strongly typed.  </p>  <p>Code is listed below, if you are interested.</p> <a href=\"http://lh3.ggpht.com/_3gdMjuMkpX4/Sei4_iG8_8I/AAAAAAAAAio/aR2w9YY3VZ4/image%5B12%5D.png\"><img style=\"border: 0px none ;\" alt=\"image\" src=\"http://lh6.ggpht.com/_3gdMjuMkpX4/Sei5AKv5p2I/AAAAAAAAAis/-hHQ4bY55IM/image_thumb%5B10%5D.png\" border=\"0\" height=\"441\" width=\"473\" /></a><div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1239988320002,"created_by":1,"updated_at":1239988574413,"updated_by":1,"published_at":1239988320002,"published_by":1},{"id":15,"title":"Changing the Default Browser in Visual Studio 2008 with ASP.NET MVC","slug":"changing_the_default_browser_in_visual_studio_2008_with_asp_net_mvc","markdown":"How frustrating!&#160; I spent at least 15 minutes trying to figure out how to change the default browser for debugging to my preferred browser in Visual Studio 2008.&#160; \n\nApparently, with a normal ASP.NET application, you can just right-click on any .aspx file and select 'Browse With...' from the context menu.&#160; The dialog that opens (shown below) has the option to select a browser and click 'Set as Default' button.\n\n[![image](http://lh3.ggpht.com/_3gdMjuMkpX4/SeaVY5fBmDI/AAAAAAAAAik/ihY5xT51jGU/image_thumb%5B2%5D.png)](http://lh5.ggpht.com/_3gdMjuMkpX4/SeaVXsUkqnI/AAAAAAAAAig/CdXGJd4w3H0/image%5B4%5D.png) \n\nUnfortunately, the .aspx files in ASP.NET MVC applications don't don't provide this option in the context menu.&#160; The only one that works is the Default.aspx file.&#160; \n\nI found the answer from this helpful blog [post](http://www.geeksandgurus.com/blogs/sjb/2009/03/how-to-change-default-browser-in-visual.html).&#160; Thank you, Steve Bodnar!&#160; \n\nMy recommendation to Microsoft is to either put this setting in the Tools/Options menu, which seems to be the most natural place to look for this setting, or place it in the Properties of the Web Site/Application project - which might be even better if you want to specify this setting per project.\n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"<p>How frustrating!&#160; I spent at least 15 minutes trying to figure out how to change the default browser for debugging to my preferred browser in Visual Studio 2008.&#160; </p>  <p>Apparently, with a normal ASP.NET application, you can just right-click on any .aspx file and select 'Browse With...' from the context menu.&#160; The dialog that opens (shown below) has the option to select a browser and click 'Set as Default' button.</p>  <p><a href=\"http://lh5.ggpht.com/_3gdMjuMkpX4/SeaVXsUkqnI/AAAAAAAAAig/CdXGJd4w3H0/image%5B4%5D.png\"><img style=\"border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px\" height=\"270\" alt=\"image\" src=\"http://lh3.ggpht.com/_3gdMjuMkpX4/SeaVY5fBmDI/AAAAAAAAAik/ihY5xT51jGU/image_thumb%5B2%5D.png\" width=\"344\" border=\"0\" /></a> </p>  <p>Unfortunately, the .aspx files in ASP.NET MVC applications don't don't provide this option in the context menu.&#160; The only one that works is the Default.aspx file.&#160; </p>  <p>I found the answer from this helpful blog <a href=\"http://www.geeksandgurus.com/blogs/sjb/2009/03/how-to-change-default-browser-in-visual.html\" target=\"_blank\">post</a>.&#160; Thank you, Steve Bodnar!&#160; </p>  <p>My recommendation to Microsoft is to either put this setting in the Tools/Options menu, which seems to be the most natural place to look for this setting, or place it in the Properties of the Web Site/Application project - which might be even better if you want to specify this setting per project.</p>  <div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1239848280001,"created_by":1,"updated_at":1239848295731,"updated_by":1,"published_at":1239848280001,"published_by":1},{"id":16,"title":"Transparency is a Core Value in Work/Life","slug":"transparency_is_a_core_value_in_work_life","markdown":"I am working on a current project where we are trying to create a site that gives visibility/transparency into our company and its performance whether good or bad.&#160; This is being done in order to build relationship with those we do business with.&#160; And it occurred to me how fundamental transparency really is in work and life.&#160; \n\nLately, I have noticed a lot of examples of people and processes that are geared to pursuing transparency.&#160; Regardless of what I think of President Obama's policies, I have to say that he has been fairly transparent with his decisions and agenda.&#160; And every time some corruption (financial industry, legislative pork) or misbehavior is mentioned, his solution tends to be creating some framework (site or process) for exposing those ills through transparency.\n\nIt also occurred to me that a lot of project management processes aid us in exposing the truth about projects.&#160; Risk management helps to expose potential issues that can ruin a project's timeline or budget.&#160; Issues lists keep track of potential flaws in a given system.&#160; And project post-mortems can help teams to learn from past mistakes and improve for future iterations.&#160; \n\nEven rating systems within eBay and Amazon or content updates from Facebook can help to bring a level of transparency that build trust.\n\nSo, why should transparency be so important?&#160; \n\nFor one, transparency _**builds trust**.&#160; _If someone knows the truth about me, whether good or bad, they can begin to expect certain behaviors from me.&#160; They can trust that I am who I say I am, and there is no fear that I will change or that there is something they do not know about me.\n\nAll relationships grow from a root of trust.&#160; Without it, there is no basis for relationship.&#160; So, if I want to grow quality relationships with my family, friends, and colleagues, I have to nurture trust, and therefore transparency.\n\nIt also creates a level of **_accountability_**.&#160; If I am transparent about my life and work to myself and others, I am forced to face reality.&#160; And even though reality is not always pretty, it can allow me to choose to pursue change.&#160; Without it, I can safely live in denial and be complacent with the way things are.&#160; And worse, if I keep things a secret, those failures may grow worse.&#160; It was once said, &quot;You are only as sick as your secrets.&quot; \n\nThe Bible concurs with these benefits saying that, \n\n_&quot;If we say we have fellowship with him while we walk in darkness, we lie and do not practice the truth. 7 But if we walk in the light, as he is in the light, we have fellowship with one another, and the blood of Jesus his Son cleanses us from all sin.&quot;_&#160; (1 John 1:6-7)\n\nYou cannot have fellowship (relationship) with others and grow in your life without a level of transparency.\n\nSo, I have decided that **transparency** or **being transparent** needs to be a core value for me.&#160; And this blog post is my first attempt at admitting that I need to work on it.&#160; I need to be willing to be honest to others about my life and work regardless of the consequences and be humble enough to apologize when I have failed or hurt someone.&#160; It's the only way to have the quality relationships and integrity I desire.\n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"<p>I am working on a current project where we are trying to create a site that gives visibility/transparency into our company and its performance whether good or bad.&#160; This is being done in order to build relationship with those we do business with.&#160; And it occurred to me how fundamental transparency really is in work and life.&#160; </p>  <p>Lately, I have noticed a lot of examples of people and processes that are geared to pursuing transparency.&#160; Regardless of what I think of President Obama's policies, I have to say that he has been fairly transparent with his decisions and agenda.&#160; And every time some corruption (financial industry, legislative pork) or misbehavior is mentioned, his solution tends to be creating some framework (site or process) for exposing those ills through transparency.</p>  <p>It also occurred to me that a lot of project management processes aid us in exposing the truth about projects.&#160; Risk management helps to expose potential issues that can ruin a project's timeline or budget.&#160; Issues lists keep track of potential flaws in a given system.&#160; And project post-mortems can help teams to learn from past mistakes and improve for future iterations.&#160; </p>  <p>Even rating systems within eBay and Amazon or content updates from Facebook can help to bring a level of transparency that build trust.</p>  <p>So, why should transparency be so important?&#160; </p>  <p>For one, transparency <em><strong>builds trust</strong>.&#160; </em>If someone knows the truth about me, whether good or bad, they can begin to expect certain behaviors from me.&#160; They can trust that I am who I say I am, and there is no fear that I will change or that there is something they do not know about me.</p>  <p>All relationships grow from a root of trust.&#160; Without it, there is no basis for relationship.&#160; So, if I want to grow quality relationships with my family, friends, and colleagues, I have to nurture trust, and therefore transparency.</p>  <p>It also creates a level of <strong><em>accountability</em></strong>.&#160; If I am transparent about my life and work to myself and others, I am forced to face reality.&#160; And even though reality is not always pretty, it can allow me to choose to pursue change.&#160; Without it, I can safely live in denial and be complacent with the way things are.&#160; And worse, if I keep things a secret, those failures may grow worse.&#160; It was once said, &quot;You are only as sick as your secrets.&quot; </p>  <p>The Bible concurs with these benefits saying that, </p>  <p><em>&quot;If we say we have fellowship with him while we walk in darkness, we lie and do not practice the truth. 7 But if we walk in the light, as he is in the light, we have fellowship with one another, and the blood of Jesus his Son cleanses us from all sin.&quot;</em>&#160; (1 John 1:6-7)</p>  <p>You cannot have fellowship (relationship) with others and grow in your life without a level of transparency.</p>  <p>So, I have decided that <strong>transparency</strong> or <strong>being transparent</strong> needs to be a core value for me.&#160; And this blog post is my first attempt at admitting that I need to work on it.&#160; I need to be willing to be honest to others about my life and work regardless of the consequences and be humble enough to apologize when I have failed or hurt someone.&#160; It's the only way to have the quality relationships and integrity I desire.</p>  <div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1236818160001,"created_by":1,"updated_at":1236818160983,"updated_by":1,"published_at":1236818160001,"published_by":1},{"id":17,"title":"Web Service Naming Conventions","slug":"web_service_naming_conventions","markdown":"I was reviewing an interface for a WCF web service today, and I began wondering about web service naming conventions.\n\nIt is understood that a service should be a logical grouping of a set of functionality.&#160; Therefore, if you have several pieces of functionality that center around a Project concept, then you should group them together under the name ProjectService.&#160; \n\nSo, the convention for service names is:\n\n*   **Casing:**&#160;&#160;&#160;&#160;&#160; Pascal case\n*   **Format:**&#160;&#160;&#160;&#160; [concept noun] + 'Service' to construct the name.)*   **Examples:**&#160; ProjectService, TaskService, PersonService, etc.  \n\nWhen creating methods for a data service, though, should you restate the concept in the title?&#160; In this case, you would use the following methods:&#160; CreateProject(), UpdateProject(), GetProjectByID().&#160; Isn't this already understood by the title of the web service?&#160; So that you could say Create(), Update(), and GetByID() instead.&#160; \n\nI propose no.\n\nThe latter might make more sense in an object-oriented world where you are operating on the object itself.&#160; However, a service is more like a manager class that operates on Project objects.&#160; Also, theoretically speaking, each one of these functions can live on their own apart from any other functionality.&#160; So, specifying the concept in the title of each method would make sense.&#160; And finally, there might be functionality in this service for sub-objects such as Task that would not be substantial/independent enough to live on its own in a TaskService. \n\nIn that case, it would be important to understand which type of object your Create(), Update(), and GetByID() are operating on.\n\nSo, my recommendation for a data web service methods is:\n\n1.  **Casing:**&#160;&#160;&#160;&#160;&#160; Pascal case\n2.  **Format:**&#160;&#160;&#160;&#160; [operation] + [concept noun] + [optional extensions]\n3.  **Examples: ** CreateProject(), UpdateProject(), GetProjectByID()  \n\nWhat are your thoughts?&#160; \n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"<p>I was reviewing an interface for a WCF web service today, and I began wondering about web service naming conventions.</p>  <p>It is understood that a service should be a logical grouping of a set of functionality.&#160; Therefore, if you have several pieces of functionality that center around a Project concept, then you should group them together under the name ProjectService.&#160; </p>  <p>So, the convention for service names is:</p>  <ul>   <li><strong>Casing:</strong>&#160;&#160;&#160;&#160;&#160; Pascal case</li>    <li><strong>Format:</strong>&#160;&#160;&#160;&#160; [concept noun] + 'Service' to construct the name.) </li>    <li><strong>Examples:</strong>&#160; ProjectService, TaskService, PersonService, etc.</li> </ul>  <p>When creating methods for a data service, though, should you restate the concept in the title?&#160; In this case, you would use the following methods:&#160; CreateProject(), UpdateProject(), GetProjectByID().&#160; Isn't this already understood by the title of the web service?&#160; So that you could say Create(), Update(), and GetByID() instead.&#160; </p>  <p>I propose no.</p>  <p>The latter might make more sense in an object-oriented world where you are operating on the object itself.&#160; However, a service is more like a manager class that operates on Project objects.&#160; Also, theoretically speaking, each one of these functions can live on their own apart from any other functionality.&#160; So, specifying the concept in the title of each method would make sense.&#160; And finally, there might be functionality in this service for sub-objects such as Task that would not be substantial/independent enough to live on its own in a TaskService. </p>  <p>In that case, it would be important to understand which type of object your Create(), Update(), and GetByID() are operating on.</p>  <p>So, my recommendation for a data web service methods is:</p>  <ol>   <li><strong>Casing:</strong>&#160;&#160;&#160;&#160;&#160; Pascal case</li>    <li><strong>Format:</strong>&#160;&#160;&#160;&#160; [operation] + [concept noun] + [optional extensions]</li>    <li><strong>Examples: </strong> CreateProject(), UpdateProject(), GetProjectByID()</li> </ol>  <p>What are your thoughts?&#160; </p>  <div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1236096240001,"created_by":1,"updated_at":1236096240230,"updated_by":1,"published_at":1236096240001,"published_by":1},{"id":18,"title":"Team Foundation Server - Identifying All File Changes","slug":"team_foundation_server_identifying_all_file_changes","markdown":"Within **Visual Studio 2008**, it is very easy to view the Team Foundation Server history of either a given file, project, or solution.&#160; All you have to do is right-click on the particular item, select **View History** from the context menu, and you are presented with a list of changesets as shown below.\n\n[<a href=\"http://lh6.ggpht.com/_3gdMjuMkpX4/SX9JLZLtTFI/AAAAAAAAAb8/hlEfczH5j68/image%5B11%5D.png\">![image](http://lh5.ggpht.com/_3gdMjuMkpX4/SX9JLwl2y4I/AAAAAAAAAcA/RacnuPvfgb8/image_thumb%5B7%5D.png)](http://lh5.ggpht.com/_3gdMjuMkpX4/SX9JLExJHsI/AAAAAAAAAb4/lO7vkmDyKJU/image%5B9%5D.png)![image](http://lh6.ggpht.com/_3gdMjuMkpX4/SX9JMDxu6SI/AAAAAAAAAcE/PFPqwjqT6K4/image_thumb%5B5%5D.png)</a> \n\n&#160;\n\n&#160;\n\nFrom there you can double-click on a given changeset and see the files that were a part of that atomic check-in.\n\nBut how do you see a consolidated list of all files that have been modified since a particular date, label, or changeset?&#160; That is a little less intuitive.\n\nThe first step is to open the **Source Control Explorer** from the **Team Explorer** client window of **Visual Studio** by double-clicking on the **Source Control Explorer** node in the tree as shown below.\n\n[![image](http://lh4.ggpht.com/_3gdMjuMkpX4/SX9JM_olLcI/AAAAAAAAAcM/HPGH6JEa_Po/image_thumb%5B11%5D.png)](http://lh6.ggpht.com/_3gdMjuMkpX4/SX9JMEFiQlI/AAAAAAAAAcI/tndXVUV6jYo/image%5B17%5D.png) \n\nFrom the **Source Control Explorer** window, select the node within the project (either Team Project, Solution, Project, or file) and right-click to select **Compare**.\n\n[![image](http://lh4.ggpht.com/_3gdMjuMkpX4/SX9JNVEfkhI/AAAAAAAAAcU/of_cENfAco0/image_thumb%5B13%5D.png)](http://lh5.ggpht.com/_3gdMjuMkpX4/SX9JNF-RPaI/AAAAAAAAAcQ/nabUXTIjlYs/image%5B21%5D.png) \n\nFrom there you will be presented with the **Compare** dialog shown below.\n\n[![image](http://lh6.ggpht.com/_3gdMjuMkpX4/SX9JNwfLfRI/AAAAAAAAAcc/rgraRW92z9g/image_thumb%5B14%5D.png)](http://lh5.ggpht.com/_3gdMjuMkpX4/SX9JNsUH9lI/AAAAAAAAAcY/COTZw_oRcEE/image%5B24%5D.png) \n\nYou can select to compare to a **Changeset, Date, Label**, etc. from the list.&#160; For purposes of this article, we have selected the compare by **Date**.&#160; Make sure that the only **View Option** selected in the checkboxes at the end of the dialog is &quot;Show files that are different.&quot;&#160; Once you click the **OK** button, you will be presented with the following window displaying all of the files that have changed, grouped by solution and project.\n\n[![image](http://lh6.ggpht.com/_3gdMjuMkpX4/SX9JOd75j-I/AAAAAAAAAck/4XBIcV142Ww/image_thumb%5B18%5D.png)](http://lh3.ggpht.com/_3gdMjuMkpX4/SX9JOM_LfmI/AAAAAAAAAcg/KjCLXqIdYkE/image%5B30%5D.png) \n\nHope this helps.\n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"<p>Within <strong>Visual Studio 2008</strong>, it is very easy to view the Team Foundation Server history of either a given file, project, or solution.&#160; All you have to do is right-click on the particular item, select <strong>View History</strong> from the context menu, and you are presented with a list of changesets as shown below.</p>  <p><a href=\"http://lh5.ggpht.com/_3gdMjuMkpX4/SX9JLExJHsI/AAAAAAAAAb4/lO7vkmDyKJU/image%5B9%5D.png\"><a href=\"http://lh6.ggpht.com/_3gdMjuMkpX4/SX9JLZLtTFI/AAAAAAAAAb8/hlEfczH5j68/image%5B11%5D.png\"><img style=\"border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px\" height=\"273\" alt=\"image\" src=\"http://lh5.ggpht.com/_3gdMjuMkpX4/SX9JLwl2y4I/AAAAAAAAAcA/RacnuPvfgb8/image_thumb%5B7%5D.png\" width=\"164\" align=\"left\" border=\"0\" /></a><img style=\"border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px\" height=\"207\" alt=\"image\" src=\"http://lh6.ggpht.com/_3gdMjuMkpX4/SX9JMDxu6SI/AAAAAAAAAcE/PFPqwjqT6K4/image_thumb%5B5%5D.png\" width=\"285\" border=\"0\" /></a> </p>  <p>&#160;</p>  <p>&#160;</p>  <p>From there you can double-click on a given changeset and see the files that were a part of that atomic check-in.</p>  <p>But how do you see a consolidated list of all files that have been modified since a particular date, label, or changeset?&#160; That is a little less intuitive.</p>  <p>The first step is to open the <strong>Source Control Explorer</strong> from the <strong>Team Explorer</strong> client window of <strong>Visual Studio</strong> by double-clicking on the <strong>Source Control Explorer</strong> node in the tree as shown below.</p>  <p><a href=\"http://lh6.ggpht.com/_3gdMjuMkpX4/SX9JMEFiQlI/AAAAAAAAAcI/tndXVUV6jYo/image%5B17%5D.png\"><img style=\"border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px\" height=\"180\" alt=\"image\" src=\"http://lh4.ggpht.com/_3gdMjuMkpX4/SX9JM_olLcI/AAAAAAAAAcM/HPGH6JEa_Po/image_thumb%5B11%5D.png\" width=\"155\" border=\"0\" /></a> </p>  <p>From the <strong>Source Control Explorer</strong> window, select the node within the project (either Team Project, Solution, Project, or file) and right-click to select <strong>Compare</strong>.</p>  <p><a href=\"http://lh5.ggpht.com/_3gdMjuMkpX4/SX9JNF-RPaI/AAAAAAAAAcQ/nabUXTIjlYs/image%5B21%5D.png\"><img style=\"border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px\" height=\"229\" alt=\"image\" src=\"http://lh4.ggpht.com/_3gdMjuMkpX4/SX9JNVEfkhI/AAAAAAAAAcU/of_cENfAco0/image_thumb%5B13%5D.png\" width=\"205\" border=\"0\" /></a> </p>  <p>From there you will be presented with the <strong>Compare</strong> dialog shown below.</p>  <p><a href=\"http://lh5.ggpht.com/_3gdMjuMkpX4/SX9JNsUH9lI/AAAAAAAAAcY/COTZw_oRcEE/image%5B24%5D.png\"><img style=\"border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px\" height=\"217\" alt=\"image\" src=\"http://lh6.ggpht.com/_3gdMjuMkpX4/SX9JNwfLfRI/AAAAAAAAAcc/rgraRW92z9g/image_thumb%5B14%5D.png\" width=\"244\" border=\"0\" /></a> </p>  <p>You can select to compare to a <strong>Changeset, Date, Label</strong>, etc. from the list.&#160; For purposes of this article, we have selected the compare by <strong>Date</strong>.&#160; Make sure that the only <strong>View Option</strong> selected in the checkboxes at the end of the dialog is &quot;Show files that are different.&quot;&#160; Once you click the <strong>OK</strong> button, you will be presented with the following window displaying all of the files that have changed, grouped by solution and project.</p>  <p><a href=\"http://lh3.ggpht.com/_3gdMjuMkpX4/SX9JOM_LfmI/AAAAAAAAAcg/KjCLXqIdYkE/image%5B30%5D.png\"><img style=\"border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px\" height=\"155\" alt=\"image\" src=\"http://lh6.ggpht.com/_3gdMjuMkpX4/SX9JOd75j-I/AAAAAAAAAck/4XBIcV142Ww/image_thumb%5B18%5D.png\" width=\"466\" border=\"0\" /></a> </p>  <p>Hope this helps.</p>  <div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1233078540001,"created_by":1,"updated_at":1233078622221,"updated_by":1,"published_at":1233078540001,"published_by":1},{"id":19,"title":"The Effective Executive - Part 1","slug":"the_effective_executive_part_1","markdown":"[![](http://ecx.images-amazon.com/images/I/51B7G1SKB0L._BO2,204,203,200_PIsitb-sticker-arrow-click,TopRight,35,-76_AA240_SH20_OU01_.jpg)](http://www.amazon.com/Effective-Executive-Definitive-Harperbusiness-Essentials/dp/0060833459/ref=pd_bbs_sr_1?ie=UTF8&amp;s=books&amp;qid=1231717386&amp;sr=8-1) So, I picked up a copy (used, by the way, from Amazon Marketplace for only $0.56 + shipping/handling) of [The Effective Executive](http://www.amazon.com/Effective-Executive-Definitive-Harperbusiness-Essentials/dp/0060833459/ref=pd_bbs_sr_1?ie=UTF8&amp;s=books&amp;qid=1231717386&amp;sr=8-1) by Peter Drucker.&#160; It is by no means a new book, being released in 1966, but it has some very valuable wisdom on how to effectively execute as a knowledge worker that is as relevant today as it was then.\n\nI am going to write several posts on the book, because I want to remember the important points from the book, and I would also like to share the most interesting portions with you.&#160; This first post will be a quick intro to the book.\n\nThe book is a mere 174 pages, but it takes time to read and digest the content.&#160; The first chapter discusses the need for effectiveness and idea that effectiveness can be learned by anyone.&#160; \n\nWhat is effectiveness you say?&#160; Well, Drucker makes the distinction of doing the right things rather than do things the right way.&#160; Too many are busy doing work with no clue as to what contribution that work is really making to the organization.\n\nAfter establishing the fact that effectiveness is important to knowledge workers and that effectiveness can be learned, the author then launches into 6 chapters explaining the most important aspects of practicing the habit of being effective.\n\n1.&#160; Know where the time goes.\n\n2.&#160; Focus on outward contribution.\n\n3.&#160; Build on strengths - individual, peer, superior and subordinate.\n\n4.&#160; Concentrate on a few major areas to achieve results.\n\n5.&#160; Make effective decisions. \n\nI have not read all of the chapters, but just skimming the book has provided invaluable insights into becoming effective.&#160; I will try to discuss each of the aspects above in future posts. \n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"<p align=\"left\"><a href=\"http://www.amazon.com/Effective-Executive-Definitive-Harperbusiness-Essentials/dp/0060833459/ref=pd_bbs_sr_1?ie=UTF8&amp;s=books&amp;qid=1231717386&amp;sr=8-1\" target=\"_blank\"><img height=\"188\" src=\"http://ecx.images-amazon.com/images/I/51B7G1SKB0L._BO2,204,203,200_PIsitb-sticker-arrow-click,TopRight,35,-76_AA240_SH20_OU01_.jpg\" width=\"188\" align=\"right\" /></a> So, I picked up a copy (used, by the way, from Amazon Marketplace for only $0.56 + shipping/handling) of <a href=\"http://www.amazon.com/Effective-Executive-Definitive-Harperbusiness-Essentials/dp/0060833459/ref=pd_bbs_sr_1?ie=UTF8&amp;s=books&amp;qid=1231717386&amp;sr=8-1\" target=\"_blank\">The Effective Executive</a> by Peter Drucker.&#160; It is by no means a new book, being released in 1966, but it has some very valuable wisdom on how to effectively execute as a knowledge worker that is as relevant today as it was then.</p>  <p>I am going to write several posts on the book, because I want to remember the important points from the book, and I would also like to share the most interesting portions with you.&#160; This first post will be a quick intro to the book.</p>  <p>The book is a mere 174 pages, but it takes time to read and digest the content.&#160; The first chapter discusses the need for effectiveness and idea that effectiveness can be learned by anyone.&#160; </p>  <p>What is effectiveness you say?&#160; Well, Drucker makes the distinction of doing the right things rather than do things the right way.&#160; Too many are busy doing work with no clue as to what contribution that work is really making to the organization.</p>  <p>After establishing the fact that effectiveness is important to knowledge workers and that effectiveness can be learned, the author then launches into 6 chapters explaining the most important aspects of practicing the habit of being effective.</p>  <p>1.&#160; Know where the time goes.</p>  <p>2.&#160; Focus on outward contribution.</p>  <p>3.&#160; Build on strengths - individual, peer, superior and subordinate.</p>  <p>4.&#160; Concentrate on a few major areas to achieve results.</p>  <p>5.&#160; Make effective decisions. </p>  <p>I have not read all of the chapters, but just skimming the book has provided invaluable insights into becoming effective.&#160; I will try to discuss each of the aspects above in future posts. </p>  <div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1231717500001,"created_by":1,"updated_at":1231717645653,"updated_by":1,"published_at":1231717500001,"published_by":1},{"id":20,"title":"Random Resolution for the New Year 2009","slug":"random_resolution_for_the_new_year_2009","markdown":"Well, it's that time of year again when we make New Year's resolutions.&#160; I am not a big fan of doing this once a year, because I believe that we should be daily looking for ways to grow and help others.\n\nHowever, I found out about a site that randomly chooses a resolution for you from Caleb Jenkin's [blog](http://calebjenkins.com/) post [today](http://developingux.com/2009/01/07/resolution-randomizer/).&#160; It sounded simple enough.&#160; So, here's what it came up with for me.\n\n[![resolution_randomizer_2009_toddmeinershagen](http://lh6.ggpht.com/_3gdMjuMkpX4/SWaCw5_c-EI/AAAAAAAAAZ0/78KT-qL3bKI/resolution_randomizer_2009_toddmeinershagen%5B6%5D.jpg)](http://resolutionrandomizer.pop.us/ecard.aspx)\n\nPretty appropriate, no?&#160; Try it out by clicking [here](http://resolutionrandomizer.pop.us/ecard.aspx). \n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"<p>Well, it's that time of year again when we make New Year's resolutions.&#160; I am not a big fan of doing this once a year, because I believe that we should be daily looking for ways to grow and help others.</p>  <p>However, I found out about a site that randomly chooses a resolution for you from Caleb Jenkin's <a href=\"http://calebjenkins.com/\">blog</a> post <a href=\"http://developingux.com/2009/01/07/resolution-randomizer/\">today</a>.&#160; It sounded simple enough.&#160; So, here's what it came up with for me.</p>  <p><a href=\"http://resolutionrandomizer.pop.us/ecard.aspx\"><img style=\"border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px\" height=\"382\" alt=\"resolution_randomizer_2009_toddmeinershagen\" src=\"http://lh6.ggpht.com/_3gdMjuMkpX4/SWaCw5_c-EI/AAAAAAAAAZ0/78KT-qL3bKI/resolution_randomizer_2009_toddmeinershagen%5B6%5D.jpg\" width=\"455\" border=\"0\" /></a></p>  <p>Pretty appropriate, no?&#160; Try it out by clicking <a href=\"http://resolutionrandomizer.pop.us/ecard.aspx\">here</a>. </p>  <div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1231454880001,"created_by":1,"updated_at":1231454917254,"updated_by":1,"published_at":1231454880001,"published_by":1},{"id":21,"title":"Type-Safe Enum Strings in .NET","slug":"type_safe_enum_strings_in_net","markdown":"One thing that has always bothered me in .NET is the inability to create a type-safe set of string constants like an enum.  I would like to create a type such as the following: \n  <pre>public enum StoredProcedure : string\n{\n   DeleteConsumer = \"DeleteConsumer\",\n   EditConsumer = \"EditConsumer\",\n   GetConsumer = \"GetConsumer\"\n}</pre>\n\nThis would be incredibly useful for those situations where you are passing constant strings to a given method and you would like to limit the options that are passed to a finite set of options that can be detected through a type-safe check during compile time. \n<pre>public void ExecuteDataSet(StoredProcedures storedProcedure)\n{\n   SqlCommand command = new SqlCommand();\n   command.CommandType = CommandType.StoredProcedure;\n   command.CommandText = storedProcedure.ToString();\n}</pre>\n\nUnfortunately, a simple constant does not provide type-safe protection for the method call.  If a developer is not aware of the pattern, they may end up sending in a literal string of their choosing.  So, instead you end up with the following: \n<pre>public void ExecuteDataSet(string storedProcedure)\n{\n   SqlCommand command = new SqlCommand();\n   command.CommandType = CommandType.StoredProcedure;\n   command.CommandText = storedProcedure.ToString();\n}</pre>\n\nAfter working at a heterogeneous shop, I learned that Java has been creating their own type-safe string enum classes for solving this situation for years before the formal enum type was added to the 1.5 release of the Java Runtime. \n\nThe example below shows how a typical Java developer would implement this concept in Java syntax. \n<pre>public final class Color {\n\n private String name;\n\n private Color(String name) {\n   this.name = name;\n }\n\n public String toString() {\n   return this.id;\n }\n\n public static final Color RED = new Color(\"Red\");\n public static final Color GREEN = new Color(\"Green\");\n public static final Color BLUE = new Color(\"Blue\");\n} </pre>\n\nThe basic idea is simple:\n\n1\\.  Define a class representing a single element of the enumerated type \n\n2\\.  Don't provide any public constructors for it. \n\n3\\.  Provide public static final fields, one for each constant in the enumerated type. \n\nBecause there is no way for clients to create objects of the type, there will never be any objects of the type besides those exported via the public static final fields. \n\nIn order to make this easier to use within .NET, I create an abstract base type, StringConstantBase, that allows a developer to quickly create the functionality above plus some other goodies such as GetNames(), CompareTo(), Equals(), GetHashCode(), and the == and != operators for comparison to string literals. \n\nIn order to use the code, you merely define your class as follows:\n<pre>public class StoredProcedures : StringConstantBase\n{\n   public static readonly StoredProcedures GetConsumer = new StoredProcedures(\"GetConsumer\");\n   public static readonly StoredProcedures EditConsumer = new StoredProcedures(\"EditConsumer\");\n   public static readonly StoredProcedures DeleteConsumer = new StoredProcedures(\"DeleteConsumer\");\n\n   private StoredProcedures(string name) : base(name){}\n\n}</pre>\n\nThe only part that does not work (this is the same for the Java version) is that it cannot be used in switch...case statements.  Those require the use of an underlying integral type which is not present.  Instead, you should use the if...else if construct to perform the same logic. \n\nIf you are interested in using the StringConstantBase class for your own code, you can download my Visual Studio 2008 project from here.  In addition to the class, I have included a unit test project to include my assumptions on its use.  \n\nI hope this helps someone out there...\n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"<p>One thing that has always bothered me in .NET is the inability to create a type-safe set of string constants like an enum.  I would like to create a type such as the following: </p>  <pre><span style=\"color: rgb(0, 0, 255);\">public</span> <span style=\"color: rgb(0, 0, 255);\">enum</span> StoredProcedure : <span style=\"color: rgb(0, 0, 255);\">string</span><br />{<br />   DeleteConsumer = \"<span style=\"color: rgb(139, 0, 0);\">DeleteConsumer</span>\",<br />   EditConsumer = \"<span style=\"color: rgb(139, 0, 0);\">EditConsumer</span>\",<br />   GetConsumer = \"<span style=\"color: rgb(139, 0, 0);\">GetConsumer</span>\"<br />}</pre><p>This would be incredibly useful for those situations where you are passing constant strings to a given method and you would like to limit the options that are passed to a finite set of options that can be detected through a type-safe check during compile time. </p><pre><span style=\"color: rgb(0, 0, 255);\">public</span> <span style=\"color: rgb(0, 0, 255);\">void</span> ExecuteDataSet(StoredProcedures storedProcedure)<br />{<br />   SqlCommand command = <span style=\"color: rgb(0, 0, 255);\">new</span> SqlCommand();<br />   command.CommandType = CommandType.StoredProcedure;<br />   command.CommandText = storedProcedure.ToString();<br />}</pre><p>Unfortunately, a simple constant does not provide type-safe protection for the method call.  If a developer is not aware of the pattern, they may end up sending in a literal string of their choosing.  So, instead you end up with the following: </p><pre><span style=\"color: rgb(0, 0, 255);\">public</span> <span style=\"color: rgb(0, 0, 255);\">void</span> ExecuteDataSet(<span style=\"color: rgb(0, 0, 255);\">string</span> storedProcedure)<br />{<br />   SqlCommand command = <span style=\"color: rgb(0, 0, 255);\">new</span> SqlCommand();<br />   command.CommandType = CommandType.StoredProcedure;<br />   command.CommandText = storedProcedure.ToString();<br />}</pre><p>After working at a heterogeneous shop, I learned that Java has been creating their own type-safe string enum classes for solving this situation for years before the formal enum type was added to the 1.5 release of the Java Runtime. </p><p>The example below shows how a typical Java developer would implement this concept in Java syntax. </p><pre><span style=\"color: rgb(0, 0, 255);\">public</span> <span style=\"color: rgb(0, 0, 255);\">final</span> <span style=\"color: rgb(0, 0, 255);\">class</span> Color {<br /><br /> <span style=\"color: rgb(0, 0, 255);\">private</span> String name;<br /><br /> <span style=\"color: rgb(0, 0, 255);\">private</span> Color(String name) {<br />   <span style=\"color: rgb(0, 0, 255);\">this</span>.name = name;<br /> }<br /><br /> <span style=\"color: rgb(0, 0, 255);\">public</span> String toString() {<br />   <span style=\"color: rgb(0, 0, 255);\">return</span> <span style=\"color: rgb(0, 0, 255);\">this</span>.id;<br /> }<br /><br /> <span style=\"color: rgb(0, 0, 255);\">public</span> <span style=\"color: rgb(0, 0, 255);\">static</span> <span style=\"color: rgb(0, 0, 255);\">final</span> Color RED = <span style=\"color: rgb(0, 0, 255);\">new</span> Color(\"<span style=\"color: rgb(139, 0, 0);\">Red</span>\");<br /> <span style=\"color: rgb(0, 0, 255);\">public</span> <span style=\"color: rgb(0, 0, 255);\">static</span> <span style=\"color: rgb(0, 0, 255);\">final</span> Color GREEN = <span style=\"color: rgb(0, 0, 255);\">new</span> Color(\"<span style=\"color: rgb(139, 0, 0);\">Green</span>\");<br /> <span style=\"color: rgb(0, 0, 255);\">public</span> <span style=\"color: rgb(0, 0, 255);\">static</span> <span style=\"color: rgb(0, 0, 255);\">final</span> Color BLUE = <span style=\"color: rgb(0, 0, 255);\">new</span> Color(\"<span style=\"color: rgb(139, 0, 0);\">Blue</span>\");<br />} </pre><p>The basic idea is simple:<br /></p><p>1.  Define a class representing a single element of the enumerated type </p><p>2.  Don't provide any public constructors for it. </p><p>3.  Provide public static final fields, one for each constant in the enumerated type. </p><p>Because there is no way for clients to create objects of the type, there will never be any objects of the type besides those exported via the public static final fields. </p><p>In order to make this easier to use within .NET, I create an abstract base type, StringConstantBase, that allows a developer to quickly create the functionality above plus some other goodies such as GetNames(), CompareTo(), Equals(), GetHashCode(), and the == and != operators for comparison to string literals. </p><p>In order to use the code, you merely define your class as follows:</p><pre><span style=\"color: rgb(0, 0, 255);\">public</span> <span style=\"color: rgb(0, 0, 255);\">class</span> StoredProcedures : StringConstantBase<br />{<br />   <span style=\"color: rgb(0, 0, 255);\">public</span> <span style=\"color: rgb(0, 0, 255);\">static</span> <span style=\"color: rgb(0, 0, 255);\">readonly</span> StoredProcedures GetConsumer = <span style=\"color: rgb(0, 0, 255);\">new</span> StoredProcedures(\"<span style=\"color: rgb(139, 0, 0);\">GetConsumer</span>\");<br />   <span style=\"color: rgb(0, 0, 255);\">public</span> <span style=\"color: rgb(0, 0, 255);\">static</span> <span style=\"color: rgb(0, 0, 255);\">readonly</span> StoredProcedures EditConsumer = <span style=\"color: rgb(0, 0, 255);\">new</span> StoredProcedures(\"<span style=\"color: rgb(139, 0, 0);\">EditConsumer</span>\");<br />   <span style=\"color: rgb(0, 0, 255);\">public</span> <span style=\"color: rgb(0, 0, 255);\">static</span> <span style=\"color: rgb(0, 0, 255);\">readonly</span> StoredProcedures DeleteConsumer = <span style=\"color: rgb(0, 0, 255);\">new</span> StoredProcedures(\"<span style=\"color: rgb(139, 0, 0);\">DeleteConsumer</span>\");<br /><br />   <span style=\"color: rgb(0, 0, 255);\">private</span> StoredProcedures(<span style=\"color: rgb(0, 0, 255);\">string</span> name) : <span style=\"color: rgb(0, 0, 255);\">base</span>(name){}<br /><br />}</pre><p>The only part that does not work (this is the same for the Java version) is that it cannot be used in switch...case statements.  Those require the use of an underlying integral type which is not present.  Instead, you should use the if...else if construct to perform the same logic. </p><p>If you are interested in using the StringConstantBase class for your own code, you can download my Visual Studio 2008 project from here.  In addition to the class, I have included a unit test project to include my assumptions on its use.  </p><p>I hope this helps someone out there...</p><div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1219121040002,"created_by":1,"updated_at":1219121185286,"updated_by":1,"published_at":1219121040002,"published_by":1},{"id":22,"title":"Turning on Intellisense with Visual Studio 2008","slug":"turning_on_intellisense_with_visual_studio_2008","markdown":"For whatever reason, when I was using Visual Studio 2008 this morning, I noticed that intellisense was not working.&#160; Whenever I typed the period at the end of an object reference, no list of available methods and their associated parameters was made visible as a drop-down.&#160; \n\nI know that I am &quot;man&quot; enough to work without it, but I have come to really enjoy the productivity I get using intellisense - especially when learning a new API.\n\nSo, after exploring a bit, I found the settings and am documenting it here, so I don't forget for future reference.\n\n1.&#160; Click on Tools/Options in the upper-menu.\n\n[![image](http://lh3.ggpht.com/todd.alan.meinershagen/SH851Jmz9DI/AAAAAAAAAGw/AHdmmEV-X8c/image_thumb5.png)](http://lh6.ggpht.com/todd.alan.meinershagen/SH850m-Y__I/AAAAAAAAAGs/HSCkCCsEpUc/image9.png) \n\n2.&#160; Under Text Editor/All Languages navigate to the Statement Completion section at the top of the dialog and check the appropriate settings\n\n[![image](http://lh3.ggpht.com/todd.alan.meinershagen/SH853Ja7JyI/AAAAAAAAAG4/E7t_n-TcXMc/image_thumb4.png)](http://lh5.ggpht.com/todd.alan.meinershagen/SH852YCsGyI/AAAAAAAAAG0/-645WJqA-F4/image8.png)&#160;\n\nThere are 3 settings with the following explanation:\n\n*   Auto list members - this is essential for intellisense to begin working.*   Hide Advanced members - this will allow you to hide those properties, methods, and events that are not often used.*   Parameter information - by default the auto list members only displays the name of the property, event, or method.&#160; You must have this option checked in order to display the actual parameter information.  \n\nI hope this was helpful...\n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"<p>For whatever reason, when I was using Visual Studio 2008 this morning, I noticed that intellisense was not working.&#160; Whenever I typed the period at the end of an object reference, no list of available methods and their associated parameters was made visible as a drop-down.&#160; </p>  <p>I know that I am &quot;man&quot; enough to work without it, but I have come to really enjoy the productivity I get using intellisense - especially when learning a new API.</p>  <p>So, after exploring a bit, I found the settings and am documenting it here, so I don't forget for future reference.</p>  <p>1.&#160; Click on Tools/Options in the upper-menu.</p>  <p><a href=\"http://lh6.ggpht.com/todd.alan.meinershagen/SH850m-Y__I/AAAAAAAAAGs/HSCkCCsEpUc/image9.png\"><img style=\"border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px\" height=\"344\" alt=\"image\" src=\"http://lh3.ggpht.com/todd.alan.meinershagen/SH851Jmz9DI/AAAAAAAAAGw/AHdmmEV-X8c/image_thumb5.png\" width=\"202\" border=\"0\" /></a> </p>  <p>2.&#160; Under Text Editor/All Languages navigate to the Statement Completion section at the top of the dialog and check the appropriate settings</p>  <p><a href=\"http://lh5.ggpht.com/todd.alan.meinershagen/SH852YCsGyI/AAAAAAAAAG0/-645WJqA-F4/image8.png\"><img style=\"border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px\" height=\"296\" alt=\"image\" src=\"http://lh3.ggpht.com/todd.alan.meinershagen/SH853Ja7JyI/AAAAAAAAAG4/E7t_n-TcXMc/image_thumb4.png\" width=\"471\" border=\"0\" /></a>&#160;</p>  <p>There are 3 settings with the following explanation:</p>  <ul>   <li>Auto list members - this is essential for intellisense to begin working. </li>    <li>Hide Advanced members - this will allow you to hide those properties, methods, and events that are not often used. </li>    <li>Parameter information - by default the auto list members only displays the name of the property, event, or method.&#160; You must have this option checked in order to display the actual parameter information. </li> </ul>  <p>I hope this was helpful...</p>  <div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1216297380001,"created_by":1,"updated_at":1216297436954,"updated_by":1,"published_at":1216297380001,"published_by":1},{"id":23,"title":"Alessio's In Westlake Village, CA","slug":"alessio_s_in_westlake_village_ca","markdown":"Tonight my manager and I are going to eat at Alessio's in Westlake Village, CA with a representative from IBM.&#160; I just wanted to add this post as a reminder of the restaurant location.&#160; I'm sure it will be very nice!\n\nI have placed a map of the directions from the Simi Valley office of Countrywide (2900 Madera Road) to the restaurant below for future reference.\n\n<iframe marginwidth=\"0\" marginheight=\"0\" src=\"http://maps.google.com/maps?f=d&amp;hl=en&amp;geocode=18039757214202201069,34.164031,-118.828507&amp;time=&amp;date=&amp;ttype=&amp;saddr=2900+Madera+Road,+Simi+Valley,+CA&amp;daddr=3731+E+Thousand+Oaks+Blvd,+Westlake+Village,+CA+91362&amp;mra=pi&amp;mrcr=0&amp;sll=34.164031,-118.828507&amp;sspn=0.007493,0.016909&amp;ie=UTF8&amp;om=1&amp;ll=34.225005,-118.82652&amp;spn=0.13727,0.07712&amp;output=embed&amp;s=AARTsJpBm7yXVmLy4PduERGiFUhBuXKPuQ\" frameborder=\"0\" width=\"425\" scrolling=\"no\" height=\"350\"></iframe>    \n<small>[View Larger Map](http://maps.google.com/maps?f=d&amp;hl=en&amp;geocode=18039757214202201069,34.164031,-118.828507&amp;time=&amp;date=&amp;ttype=&amp;saddr=2900+Madera+Road,+Simi+Valley,+CA&amp;daddr=3731+E+Thousand+Oaks+Blvd,+Westlake+Village,+CA+91362&amp;mra=pi&amp;mrcr=0&amp;sll=34.164031,-118.828507&amp;sspn=0.007493,0.016909&amp;ie=UTF8&amp;om=1&amp;ll=34.225005,-118.82652&amp;spn=0.13727,0.07712&amp;source=embed)</small> \n\nBelow is the actual location for the restaurant close up. \n\n<iframe marginwidth=\"0\" marginheight=\"0\" src=\"http://maps.google.com/maps/ms?f=q&amp;hl=en&amp;geocode=&amp;time=&amp;date=&amp;ttype=&amp;ie=UTF8&amp;cd=1&amp;msa=0&amp;msid=115608977194402490467.000440946915394130e38&amp;ll=34.219751,-118.819199&amp;spn=0.479604,1.082153&amp;om=1&amp;output=embed&amp;s=AARTsJoCuusmbNtMPdSvaQqXi7RaaIEScw\" frameborder=\"0\" width=\"425\" scrolling=\"no\" height=\"350\"></iframe>    \n<small>[View Larger Map](http://maps.google.com/maps/ms?f=q&amp;hl=en&amp;geocode=&amp;time=&amp;date=&amp;ttype=&amp;ie=UTF8&amp;cd=1&amp;msa=0&amp;msid=115608977194402490467.000440946915394130e38&amp;ll=34.219751,-118.819199&amp;spn=0.479604,1.082153&amp;om=1&amp;source=embed)</small>\n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"<p>Tonight my manager and I are going to eat at Alessio's in Westlake Village, CA with a representative from IBM.&#160; I just wanted to add this post as a reminder of the restaurant location.&#160; I'm sure it will be very nice!</p>  <p>I have placed a map of the directions from the Simi Valley office of Countrywide (2900 Madera Road) to the restaurant below for future reference.</p>  <p></p>  <p><iframe marginwidth=\"0\" marginheight=\"0\" src=\"http://maps.google.com/maps?f=d&amp;hl=en&amp;geocode=18039757214202201069,34.164031,-118.828507&amp;time=&amp;date=&amp;ttype=&amp;saddr=2900+Madera+Road,+Simi+Valley,+CA&amp;daddr=3731+E+Thousand+Oaks+Blvd,+Westlake+Village,+CA+91362&amp;mra=pi&amp;mrcr=0&amp;sll=34.164031,-118.828507&amp;sspn=0.007493,0.016909&amp;ie=UTF8&amp;om=1&amp;ll=34.225005,-118.82652&amp;spn=0.13727,0.07712&amp;output=embed&amp;s=AARTsJpBm7yXVmLy4PduERGiFUhBuXKPuQ\" frameborder=\"0\" width=\"425\" scrolling=\"no\" height=\"350\"></iframe>    <br /><small><a style=\"color: #0000ff; text-align: left\" href=\"http://maps.google.com/maps?f=d&amp;hl=en&amp;geocode=18039757214202201069,34.164031,-118.828507&amp;time=&amp;date=&amp;ttype=&amp;saddr=2900+Madera+Road,+Simi+Valley,+CA&amp;daddr=3731+E+Thousand+Oaks+Blvd,+Westlake+Village,+CA+91362&amp;mra=pi&amp;mrcr=0&amp;sll=34.164031,-118.828507&amp;sspn=0.007493,0.016909&amp;ie=UTF8&amp;om=1&amp;ll=34.225005,-118.82652&amp;spn=0.13727,0.07712&amp;source=embed\">View Larger Map</a></small> </p>  <p>Below is the actual location for the restaurant close up. </p>  <p><iframe marginwidth=\"0\" marginheight=\"0\" src=\"http://maps.google.com/maps/ms?f=q&amp;hl=en&amp;geocode=&amp;time=&amp;date=&amp;ttype=&amp;ie=UTF8&amp;cd=1&amp;msa=0&amp;msid=115608977194402490467.000440946915394130e38&amp;ll=34.219751,-118.819199&amp;spn=0.479604,1.082153&amp;om=1&amp;output=embed&amp;s=AARTsJoCuusmbNtMPdSvaQqXi7RaaIEScw\" frameborder=\"0\" width=\"425\" scrolling=\"no\" height=\"350\"></iframe>    <br /><small><a style=\"color: #0000ff; text-align: left\" href=\"http://maps.google.com/maps/ms?f=q&amp;hl=en&amp;geocode=&amp;time=&amp;date=&amp;ttype=&amp;ie=UTF8&amp;cd=1&amp;msa=0&amp;msid=115608977194402490467.000440946915394130e38&amp;ll=34.219751,-118.819199&amp;spn=0.479604,1.082153&amp;om=1&amp;source=embed\">View Larger Map</a></small></p>  <div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1197826800001,"created_by":1,"updated_at":1197826859836,"updated_by":1,"published_at":1197826800001,"published_by":1},{"id":24,"title":"Google for App Domains - Family Site","slug":"google_for_app_domains_family_site","markdown":"My family and I are contemplating shutting down our existing family site at [ http://www.meinershagen.net/community](http://www.meinershagen.net/community) and actually setting up shop with Google for App Domains.&nbsp; I am so blown away with the services that Google is offering for free (email, calendar, photos, pages, groups, blogs, docs, etc.) that I can&#39;t justify paying to host my own site anymore. \n\nHave any of you had experience yet using the Google for App Domains?&nbsp; If so, what are some of the gotchas that you ran into when starting to use the service?&nbsp; Thanks in advance for any tips you have...\n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"<span class=\"gmail_quote\"></span>My family and I are contemplating shutting down our existing family site at <a href=\"http://www.meinershagen.net/community\" target=\"_blank\" onclick=\"return top.js.OpenExtLink(window,event,this)\"> http://www.<span id=\"st\" name=\"st\" class=\"st\">meinershagen</span>.net/community</a> and actually setting up shop with Google for App Domains.&nbsp; I am so blown away with the services that Google is offering for free (email, calendar, photos, pages, groups, blogs, docs, etc.) that I can&#39;t justify paying to host my own site anymore. <br><br>Have any of you had experience yet using the Google for App Domains?&nbsp; If so, what are some of the gotchas that you ran into when starting to use the service?&nbsp; Thanks in advance for any tips you have...<br> <div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1184555640000,"created_by":1,"updated_at":1184555701219,"updated_by":1,"published_at":1184555640000,"published_by":1},{"id":25,"title":"New SiteAvailabilityHttpModule - Based on Client IP Address","slug":"new_site_availability_http_module_based_on_client_ip_address","markdown":"   As part of my companyâ€™s Technical Council, we are working on defining our process for promoting code from one environment to the next.Â  One of the items we wanted to standardize across our enterprise was how we stop a site during a promotion.Â      ASP.NET 2.0 has a nice feature for shutting down a site called App Offline.Â  As Scott Guthrie from Microsoft puts it, â€œthe way [App Offline] works is that you place this file in the root of the application.Â  When ASP.NET sees it, it will shut-down the app-domain for the application (and not restart it for requests) and instead send back the contents of the app_offline.htm file in response to all new dynamic requests for the application.Â  When you are done updating the site, just delete the file and it will come back online.â€Â  You can find more out about this technique from the original blog entry here.    Unfortunately, our requirements were a bit more complicated than was intended with the app_offline.htm.Â  First, most of our applications were written with the 1.1 framework, so this built-in functionality was not available for our use.Â  In addition, we wanted the ability for testers to be able to validate the site once the changes had been made.Â  However, we didnâ€™t want to have to bring the site back up in order to do that.    As I was looking on line, I found another option called the SiteAvailabilityHttpModule.Â  This module allowed for the site to be shut down by merely configuring an HttpModule within the web.config.Â  In the Init() event, the module subscribes to the PostAuthorizeRequest event.Â  Within the event handler, the system determines whether or not the request occurred during an accepted time frame and whether or not the requesting user belonged to the administrator role.Â      We didnâ€™t need either of those features for our deployment.Â  Instead of using a role-based mechanism for determining a userâ€™s access, we wanted to base access on a configured list of client IP addresses.Â  As a result, we didnâ€™t need to wait until the PostAuthorizeRequest event â€“ we could check these aspects within the first event â€“ BeginRequest instead.Â  The code is listed below.         void context_BeginRequest(object sender, EventArgs e)    {    Â Â Â Â  string ext = Path.GetExtension(HttpContext.Current.Request.Path).ToLower();Â Â Â Â Â Â Â Â Â Â Â Â Â      Â Â Â Â  if(ext == \".aspx\")     Â Â Â Â  {    Â Â Â Â Â Â Â Â Â  if (this.IsEnabled)    Â Â Â Â Â Â Â Â Â  {    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  if (!IsClientIPValid())    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  {    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  HttpContext.Current.RewritePath(\"~/SiteUnavailable.htm\");    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }    Â Â Â Â Â Â Â Â Â  }    Â Â Â Â  }    }        Notice that you must place a SiteUnavailable.htm file at the root of the site in order to display content if the userâ€™s client IP address does not match one that is configured in the web.config.Â  You can find the current release for this component here.   \n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"<div class=\"Section1\">   <p class=\"MsoNormal\">As part of my company&#8217;s Technical Council, we are working on defining our process for promoting code from one environment to the next.&#160; One of the items we wanted to standardize across our enterprise was how we stop a site during a promotion.&#160; <o:p></o:p></p>    <p class=\"MsoNormal\">ASP.NET 2.0 has a nice feature for shutting down a site called App Offline.&#160; As Scott Guthrie from Microsoft puts it, &#8220;the way [App Offline] works is that you place this file in the root of the application.&#160; When ASP.NET sees it, it will shut-down the app-domain for the application (and not restart it for requests) and instead send back the contents of the app_offline.htm file in response to all new dynamic requests for the application.&#160; When you are done updating the site, just delete the file and it will come back online.&#8221;&#160; You can find more out about this technique from the original blog entry <a href=\"http://weblogs.asp.net/scottgu/archive/2006/04/09/442332.aspx\">here</a>.<o:p></o:p></p>    <p class=\"MsoNormal\">Unfortunately, our requirements were a bit more complicated than was intended with the app_offline.htm.&#160; First, most of our applications were written with the 1.1 framework, so this built-in functionality was not available for our use.&#160; In addition, we wanted the ability for testers to be able to validate the site once the changes had been made.&#160; However, we didn&#8217;t want to have to bring the site back up in order to do that.<o:p></o:p></p>    <p class=\"MsoNormal\">As I was looking on line, I found another option called the <a href=\"http://www.jameskovacs.com/blog/InDepthLookAtTheSiteAvailabilityModule.aspx\">SiteAvailabilityHttpModule</a>.&#160; This module allowed for the site to be shut down by merely configuring an HttpModule within the web.config.&#160; In the Init() event, the module subscribes to the PostAuthorizeRequest event.&#160; Within the event handler, the system determines whether or not the request occurred during an accepted time frame and whether or not the requesting user belonged to the administrator role.&#160; <o:p></o:p></p>    <p class=\"MsoNormal\">We didn&#8217;t need either of those features for our deployment.&#160; Instead of using a role-based mechanism for determining a user&#8217;s access, we wanted to base access on a configured list of client IP addresses.&#160; As a result, we didn&#8217;t need to wait until the PostAuthorizeRequest event &#8211; we could check these aspects within the first event &#8211; BeginRequest instead.&#160; The code is listed below. </p>    <p class=\"MsoNormal\"><span style=\"font-size: 10pt; color: blue; font-family: consolas\"></span></p>    <p class=\"MsoNormal\"><span style=\"font-size: 10pt; color: blue; font-family: consolas\">void</span><span style=\"font-size: 10pt; font-family: consolas\"> context_BeginRequest(<span style=\"color: blue\">object</span> sender, EventArgs e)</span></p>    <p class=\"MsoNormal\"><span style=\"font-size: 10pt; font-family: consolas\"></span><span style=\"font-size: 10pt; font-family: consolas\">{</span></p>    <p class=\"MsoNormal\"><span style=\"font-size: 10pt; font-family: consolas\"><span style=\"color: blue\"><font color=\"#000000\">&#160;&#160;&#160;&#160; </font>string</span> ext = Path.GetExtension(HttpContext.Current.Request.Path).ToLower();</span><span style=\"font-size: 10pt; font-family: consolas\">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span></p>    <p class=\"MsoNormal\"><span style=\"font-size: 10pt; font-family: consolas\">&#160;&#160;&#160;&#160; </span><span style=\"font-size: 10pt; font-family: consolas\"><span style=\"color: blue\">if</span>(ext == &quot;.aspx&quot;) </span></p>    <p class=\"MsoNormal\"><span style=\"font-size: 10pt; font-family: consolas\">&#160;&#160;&#160;&#160; </span><span style=\"font-size: 10pt; font-family: consolas\">{<o:p></o:p></span></p>    <p class=\"MsoNormal\"><span style=\"font-size: 10pt; font-family: consolas\">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=\"color: blue\">if</span> (<span style=\"color: blue\">this</span>.IsEnabled)<o:p></o:p></span></p>    <p class=\"MsoNormal\"><span style=\"font-size: 10pt; font-family: consolas\">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {<o:p></o:p></span></p>    <p class=\"MsoNormal\"><span style=\"font-size: 10pt; font-family: consolas\">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=\"color: blue\">if</span> (!IsClientIPValid())<o:p></o:p></span></p>    <p class=\"MsoNormal\"><span style=\"font-size: 10pt; font-family: consolas\">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {<o:p></o:p></span></p>    <p class=\"MsoNormal\"><span style=\"font-size: 10pt; font-family: consolas\">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; HttpContext.Current.RewritePath(&quot;~/SiteUnavailable.htm&quot;);<o:p></o:p></span></p>    <p class=\"MsoNormal\"><span style=\"font-size: 10pt; font-family: consolas\">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }<o:p></o:p></span></p>    <p class=\"MsoNormal\"><span style=\"font-size: 10pt; font-family: consolas\">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }<o:p></o:p></span></p>    <p class=\"MsoNormal\"><span style=\"font-size: 10pt; font-family: consolas\">&#160;&#160;&#160;&#160; }<o:p></o:p></span></p>    <p class=\"MsoNormal\"><span style=\"font-size: 10pt; font-family: consolas\">}</span></p>    <p class=\"MsoNormal\"><span style=\"font-size: 10pt; font-family: consolas\"></span><o:p></o:p></p>    <p class=\"MsoNormal\">Notice that you must place a SiteUnavailable.htm file at the root of the site in order to display content if the user&#8217;s client IP address does not match one that is configured in the web.config.&#160; You can find the current release for this component <a href=\"http://meinershagen.net/community/files/folders/files_ewh_releases/entry155.aspx\">here</a>.<o:p></o:p></p> </div>  <div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1180585800001,"created_by":1,"updated_at":1217251869689,"updated_by":1,"published_at":1180585800001,"published_by":1},{"id":26,"title":"Decision to Reject a Counter Offer","slug":"decision_to_reject_a_counter_offer","markdown":"   So â€“ I have decided to leave my company of 4 Â½ years.Â  It was a difficult decision, as any decision is to leave your company is.Â  I really have enjoyed working with the various teams that I have been involved with.Â  The main driving force was a greater need to connect with people locally.Â  I currently work out of a remote office in Dallas, with the rest of my team being in Chicago, but I enjoy the atmosphere of working with a local team and being able to informally discuss issues and connect at a more personal level.    The problem â€“ I submit my resignation, and within a day, I receive a counter offer.Â  I wonâ€™t go into the specifics of what they offered me, but suffice it to say that I began to wonder if it wouldnâ€™t be worth my while to stay for another year or two.Â      I write this post to explain to others and remind myself of why I decided to stick with my decision to leave my current employer.    1.Â  Itâ€™s all a mirage.    The offer from my current employer only really existed the moment that I put my resignation in.Â  Therefore, itâ€™s really just an illusion.Â  I canâ€™t rationalize or try to get myself to believe that these two options were going to exist at the time of my initial decision.Â  It was flattering, though.     2.Â  Potential Problems    I did all of the online research I could to see if accepting a counter offer was legitimate.Â  Most information that I gathered suggested that it would not be a good idea, because 99% of the time the employee is gone within 6-12 months either because the original issue was not addressed by the counter offer or the employer replaced the person since they were disloyal.Â  And most posts mentioned that it was an unethical move.    3.Â  Â Integrity is at issue.    The moment that I began to entertain accepting the counter offer, I began to feel wrong inside.Â  Although I agreed with all of the information I found online, that wasnâ€™t what was really eating at me.Â  I felt that I was wronging the company that I had said, â€œyes,â€ to.Â  They would have to start their search all over again.Â  That didnâ€™t feel right.Â  I couldnâ€™t face myself in the mirror if I felt that I had done something to hurt someone.    4.Â  Â Spiritual    And finally, as I lay in bed at night, I found myself crying out to God to give me wisdom.Â  I wanted to make sure that whatever I chose to do, it was what the Lord thought was right.Â  And at 2:00 am in the morning, the day before I rejected the counter offer, a verse came to my mind that I had not read for over 6 months:Â  â€œWho swears to his own hurt, and does not changeâ€¦â€Â  This is part of a larger passage of scripture in Psalms chapter 15, where King David asks â€œO Lord, who shall sojourn in your tent?Â  Who shall dwell on your holy hill?â€Â  And the list that follows explains the qualities of one who can fellowship with the Lord.Â  And keeping promises must be high on His list.Â      I couldnâ€™t deny the voice of God.Â  Accepting a counter offer was wrong not only because it isnâ€™t real, it might potentially cause me harm, and it might damage my reputation with others.Â  It might also cause harm to my neighbor â€“ or in this case, my future employer.Â  I couldnâ€™t do that with a good conscience.Â  It would keep me from fellowshipping with the One whom I donâ€™t want to miss out on.   \n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"<div class=\"Section1\">   <p class=\"MsoNormal\">So &#8211; I have decided to leave my company of 4 &#189; years.&#160; It was a difficult decision, as any decision is to leave your company is.&#160; I really have enjoyed working with the various teams that I have been involved with.&#160; The main driving force was a greater need to connect with people locally.&#160; I currently work out of a remote office in Dallas, with the rest of my team being in Chicago, but I enjoy the atmosphere of working with a local team and being able to informally discuss issues and connect at a more personal level.<o:p></o:p></p>    <p class=\"MsoNormal\">The problem &#8211; I submit my resignation, and <span style=\"color: #1f497d\">within a day</span>, I receive a counter offer.&#160; I won&#8217;t go into the specifics of what they offered me, but suffice it to say that I began to wonder if it wouldn&#8217;t be worth my while to stay for another year or two.&#160; <o:p></o:p></p>    <p class=\"MsoNormal\">I write this post to explain to others and remind myself of why I decided to stick with my decision to leave my current employer.<o:p></p>    <p class=\"MsoNormal\">1.&#160; It&#8217;s all a mirage.<o:p></o:p></p>    <p class=\"MsoListParagraph\">The offer from my current employer only really existed the moment that I put my resignation in.&#160; Therefore, it&#8217;s really just an illusion.&#160; I can&#8217;t rationalize or try to get myself to believe that these two options were going to exist at the time of my initial decision.&#160; It was flattering, though. </p>    <p class=\"MsoListParagraph\">2.&#160; Potential Problems<o:p></o:p></p>    <p class=\"MsoListParagraph\">I did all of the online research I could to see if accepting a counter offer was legitimate.&#160; Most information that I gathered suggested that it would not be a good idea, because 99% of the time the employee is gone within 6-12 months either because the original issue was not addressed by the counter offer or the employer replaced the person since they were disloyal.&#160; And most posts mentioned that it was an unethical move.<o:p></p>    <p class=\"MsoListParagraph\">3.&#160; <span style=\"mso-list: ignore\"><span style=\"font: 7pt \" times new roman\"\">&#160;</span></span>Integrity is at issue.</p>    <p class=\"MsoListParagraph\">The moment that I began to entertain accepting the counter offer, I began to feel wrong inside.&#160; Although I agreed with all of the information I found online, that wasn&#8217;t what was really eating at me.&#160; I felt that I was wronging the company that I had said, &#8220;yes,&#8221; to.&#160; They would have to start their search all over again.&#160; That didn&#8217;t feel right.&#160; I couldn&#8217;t face myself in the mirror if I felt that I had done something to hurt someone.</p>    <p class=\"MsoListParagraph\">4.&#160; <span style=\"mso-list: ignore\"><span style=\"font: 7pt \" times new roman\"\">&#160;</span></span>Spiritual<o:p></o:p></p>    <p class=\"MsoNormal\"><o:p>And finally, as I lay in bed at night, I found myself crying out to God to give me wisdom.&#160; I wanted to make sure that whatever I chose to do, it was what the Lord thought was right.&#160; And at 2:00 am in the morning, the day before I rejected the counter offer, a verse came to my mind that I had not read for over 6 months:&#160; &#8220;Who swears to his own hurt, and does not change&#8230;&#8221;&#160; This is part of a larger passage of scripture in Psalms chapter 15, where King David asks &#8220;O <span class=\"small-caps\">Lord</span>, who shall sojourn in your tent?&#160; Who shall dwell on your holy hill?&#8221;&#160; And the list that follows explains the qualities of one who can fellowship with the Lord.&#160; And keeping promises must be high on His list.&#160; </o:p></p>    <p class=\"MsoNormal\">I couldn&#8217;t deny the voice of God.&#160; Accepting a counter offer was wrong not only because it isn&#8217;t real, it might potentially cause me harm, and it might damage my reputation with others.&#160; It might also cause harm to my neighbor &#8211; or in this case, my future employer.&#160; I couldn&#8217;t do that with a good conscience.&#160; It would keep me from fellowshipping with the One whom I don&#8217;t want to miss out on.<o:p></o:p></p> </div>  <div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1180582560001,"created_by":1,"updated_at":1217251477372,"updated_by":1,"published_at":1180582560001,"published_by":1},{"id":27,"title":"New Photo Albums","slug":"new_photo_albums","markdown":"I just began using Google's new beta Picasa Web Photo albums.  It is so easy to upload photos from my existing Picasa photo organizer system.  You can download the application [here](http://picasa.google.com/).\n\nHere are a few new photo albums that I have posted from the month of June and July of '06\\.  Enjoy!\n\n2006 - End of SummerJul 5, 2006 - 42 Photos\n2006 - Birth of Sophia GraceJun 22, 2006 - 10 Photos\n2006 - Summer FunJun 2, 2006 - 23 Photos\n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"I just began using Google's new beta Picasa Web Photo albums.  It is so easy to upload photos from my existing Picasa photo organizer system.  You can download the application <a href=\"http://picasa.google.com/\">here</a>.<br /><br />Here are a few new photo albums that I have posted from the month of June and July of '06.  Enjoy!<br /><br /><div style=\"text-align: center; width: 194px; font-family: arial,sans-serif; font-size: 83%;\"><div style=\"background: transparent url(http://picasaweb.google.com/f/img/transparent_album_background.gif) no-repeat scroll left center; height: 194px; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;\"><a href=\"http://picasaweb.google.com/todd.meinershagen/2006EndOfSummer\"><img src=\"http://lh3.google.com/todd.meinershagen/RQGjHpo4ABE/AAAAAAAAAFs/b-XQN4-rxi4/2006EndOfSummer.jpg?imgmax=160&crop=1\" style=\"border: medium none ; padding: 0px; margin-top: 16px;\" height=\"160\" width=\"160\" /></a><br /><br /></div><a href=\"http://picasaweb.google.com/todd.meinershagen/2006EndOfSummer\"><div style=\"color: rgb(77, 77, 77); font-weight: bold; text-decoration: none;\">2006 - End of Summer</div></a><div style=\"color: rgb(128, 128, 128);\">Jul 5, 2006 - 42 Photos</div></div><br /><div style=\"text-align: center; width: 194px; font-family: arial,sans-serif; font-size: 83%;\"><div style=\"background: transparent url(http://picasaweb.google.com/f/img/transparent_album_background.gif) no-repeat scroll left center; height: 194px; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;\"><a href=\"http://picasaweb.google.com/todd.meinershagen/2006BirthOfSophiaGrace\"><img src=\"http://lh5.google.com/todd.meinershagen/RQIBeLjDABE/AAAAAAAAAHY/7UznbWMRLA8/2006BirthOfSophiaGrace.jpg?imgmax=160&crop=1\" style=\"border: medium none ; padding: 0px; margin-top: 16px;\" height=\"160\" width=\"160\" /></a></div><a href=\"http://picasaweb.google.com/todd.meinershagen/2006BirthOfSophiaGrace\"><div style=\"color: rgb(77, 77, 77); font-weight: bold; text-decoration: none;\">2006 - Birth of Sophia Grace</div></a><div style=\"color: rgb(128, 128, 128);\">Jun 22, 2006 - 10 Photos<br /></div></div><br /><div style=\"text-align: center; width: 194px; font-family: arial,sans-serif; font-size: 83%;\"><div style=\"background: transparent url(http://picasaweb.google.com/f/img/transparent_album_background.gif) no-repeat scroll left center; height: 194px; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;\"><a href=\"http://picasaweb.google.com/todd.meinershagen/2006SummerFun\"><img src=\"http://lh5.google.com/todd.meinershagen/RQIjIXb2ABE/AAAAAAAAAKY/9EkfwfQLuZo/2006SummerFun.jpg?imgmax=160&crop=1\" style=\"border: medium none ; padding: 0px; margin-top: 16px;\" height=\"160\" width=\"160\" /></a></div><a href=\"http://picasaweb.google.com/todd.meinershagen/2006SummerFun\"><div style=\"color: rgb(77, 77, 77); font-weight: bold; text-decoration: none;\">2006 - Summer Fun</div></a><div style=\"color: rgb(128, 128, 128);\">Jun 2, 2006 - 23 Photos</div></div><div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1157905140000,"created_by":1,"updated_at":1157905396430,"updated_by":1,"published_at":1157905140000,"published_by":1},{"id":28,"title":"Free Services Online","slug":"free_services_online","markdown":"I am amazed at the amount of free services being provided on the internet!  Will there be a day when I no longer have to maintain my own file share on a local hard drive?  Will I be able to store everything out in the \"cloud\"?\n\nGoogle has capitalized the market with free services like email, chat, calendaring, and photo albums.  They are even offering to let you use their services as a suite for free within your small organization under your own domain.  ([http://www.google.com/a)](http://www.google.com/a)  Microsoft and others are trying to catch up with the services bandwagon, but clearly Google is in the lead.\n\nTodd Meinershagen is a Principal Consultant with Improving Enterprises in Dallas, Texas.","html":"I am amazed at the amount of free services being provided on the internet!  Will there be a day when I no longer have to maintain my own file share on a local hard drive?  Will I be able to store everything out in the \"cloud\"?<br /><br />Google has capitalized the market with free services like email, chat, calendaring, and photo albums.  They are even offering to let you use their services as a suite for free within your small organization under your own domain.  (<a href=\"http://www.google.com/a\">http://www.google.com/a)</a>  Microsoft and others are trying to catch up with the services bandwagon, but clearly Google is in the lead.<div class=\"blogger-post-footer\"><div>\n<br/>\n<span style=\"border-top: solid 1px #000000;\">\n<span style=\"text-align: left;\">\nTodd Meinershagen is a Principal Consultant with </span><a href=\"http://www.improvingenterprises.com/\" style=\"text-align: left;\">Improving Enterprises</a><span style=\"text-align: left;\"> in Dallas, Texas.</span>\n</span>\n<br/>\n</div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":1157737080001,"created_by":1,"updated_at":1157737613185,"updated_by":1,"published_at":1157737080001,"published_by":1}],"tags":[{"id":0,"name":"testing","slug":"testing","description":""},{"id":1,"name":".net","slug":"_net","description":""},{"id":2,"name":"t_f_s","slug":"t_f_s","description":""},{"id":3,"name":"craftsmanship","slug":"craftsmanship","description":""},{"id":4,"name":"json","slug":"json","description":""},{"id":5,"name":"markdown","slug":"markdown","description":""},{"id":6,"name":"passion","slug":"passion","description":""},{"id":7,"name":"serialization","slug":"serialization","description":""}],"posts_tags":[{"tag_id":0,"post_id":0},{"tag_id":0,"post_id":1},{"tag_id":3,"post_id":2},{"tag_id":5,"post_id":2},{"tag_id":6,"post_id":2},{"tag_id":1,"post_id":14},{"tag_id":4,"post_id":14},{"tag_id":7,"post_id":14},{"tag_id":2,"post_id":18}]}}